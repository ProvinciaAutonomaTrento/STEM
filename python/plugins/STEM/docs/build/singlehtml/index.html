
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Documentazione STEM 1.0 documentation</title>
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/haiku.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
<link rel="stylesheet" href="_static/stem.css" type="text/css" />

  </head><body>
      <div class="header"><h1 class="heading"><a href="#">
          <span>Documentazione STEM</span></a></h1>
        <h2 class="heading"><span>Documentazione STEM 1.0 documentation</span></h2>
      </div>
      <div class="topnav">
        <a class="uplink" href="#">Home page</a>
      </div>
      <div class="content">
        
        
  <div class="section" id="documentazione-stem">
<h1>Documentazione STEM<a class="headerlink" href="#documentazione-stem" title="Permalink to this headline">¶</a></h1>
<p>Contenuti:</p>
<div class="toctree-wrapper compound">
<span id="document-intro"></span><div class="section" id="introduzione">
<h2>Introduzione<a class="headerlink" href="#introduzione" title="Permalink to this headline">¶</a></h2>
<p>Il <strong>progetto STEM</strong> (Sistema informativo per il Telerilevamento E il Monitoraggio delle risorse del territorio e dell’ambiente trentino)
risponde alla necessità di dotare la Provincia Autonoma di Trento (PAT) di uno strumento integrato per l’elaborazione, archiviazione
e diffusione, in maniera accurata e aggiornata, di informazioni acquisite mediante sistemi di telerilevamento
(dati multispettrali, iperspettrali, LIDAR, RADAR, ecc.), al fine di supportare i processi di pianificazione, gestione e
controllo territoriale. il sistema prevede:</p>
<blockquote>
<div><ul class="simple">
<li><p>strumenti per l’aggiornamento periodico distribuzione della classificazione delle aree agro-silvo-pastorali e delle principali
specie forestali, nonché per la stima dei parametri forestali, attraverso tre tipologie di elaborazione di dati telerilevati (con
riferimento alle metodologie e procedure sviluppate nelle sperimentazioni FORLIDAR e AGRICOLTURA)</p></li>
<li><p>archiviazione e gestione dei dati telerilevati attraverso un’infrastruttura dati territoriale per il telerilevamento coordinata con
l’attuale sistema SIAT</p></li>
</ul>
</div></blockquote>
</div>
<span id="document-installation"></span><div class="section" id="come-installare-il-plugin">
<h2>Come installare il plugin<a class="headerlink" href="#come-installare-il-plugin" title="Permalink to this headline">¶</a></h2>
<p>Il plugin supporta la versione <strong>QGIS 3.10 LTR</strong> con <strong>GRASS GIS 7.8</strong>.</p>
<p><strong>STEP</strong>: installazione dipendenze:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Provvedere a configurare <strong>GRASS</strong> (in termini di LOCATION) correttamente, lanciando direttamente l’applicazione e seguendo le istruzioni mostrate a video per la creazione della LOCATION.</p></li>
<li><p>Installare il motore di calcolo R, scaricandolo direttamente dal sito <a class="reference external" href="https://cran.r-project.org/">https://cran.r-project.org/</a>. Il plugin supporta la versione 4.0.3.</p></li>
<li><p>Installare il plugin <strong>Processing R Provider</strong> e configurarlo alla voce <code class="docutils literal notranslate"><span class="pre">Impostazioni</span> <span class="pre">-&gt;</span> <span class="pre">Opzioni</span> <span class="pre">-&gt;</span> <span class="pre">Processing</span> <span class="pre">-&gt;</span> <span class="pre">Programmi</span> <span class="pre">-&gt;</span> <span class="pre">R</span></code>.
Per verificare la corretta installazione, si consiglia di provare uno degli script già presenti nella installazione del plugin.</p></li>
<li><p>Verificare che in <code class="docutils literal notranslate"><span class="pre">Strumenti</span> <span class="pre">di</span> <span class="pre">Processing</span></code> sia presente la voce <strong>R</strong> e le cartelle <code class="docutils literal notranslate"><span class="pre">Pre</span> <span class="pre">Elaborazione,</span> <span class="pre">Classificazione</span> <span class="pre">Supervisionata,</span> <span class="pre">Stima</span> <span class="pre">dei</span> <span class="pre">Parametri,</span> <span class="pre">...)</span></code>.</p></li>
<li><p>Verificare che in Impostazioni -&gt; Opzioni -&gt; Processing -&gt; Generale -&gt; Percorso della cartella temporanea in uscita le barre del percorso siano “/” e non “”</p></li>
</ol>
</div></blockquote>
<div class="section" id="installazione-pacchetti-aggiuntivi-grass-gis">
<h3>Installazione pacchetti aggiuntivi GRASS GIS<a class="headerlink" href="#installazione-pacchetti-aggiuntivi-grass-gis" title="Permalink to this headline">¶</a></h3>
<p>Il modulo per calcolare lo Spectral Angle Mapper richiede un modulo aggiuntivo
per GRASS GIS (denominati <a class="reference external" href="https://grass.osgeo.org/grass70/manuals/addons/">Addons</a>).
In special modo bisogna installare l’addons <a class="reference external" href="https://grass.osgeo.org/grass70/manuals/addons/i.spec.sam.html">i.spec.sam</a>,
per fare ciò bisogna:</p>
<ul class="simple">
<li><p>lanciare GRASS GIS</p></li>
<li><p>andare in <code class="docutils literal notranslate"><span class="pre">Impostazioni</span> <span class="pre">-&gt;</span> <span class="pre">Estensioni</span> <span class="pre">(addons)</span> <span class="pre">aggiuntive</span> <span class="pre">-&gt;</span> <span class="pre">Installa</span> <span class="pre">estensione</span> <span class="pre">dagli</span> <span class="pre">addons</span></code></p></li>
<li><p>cliccare su <code class="docutils literal notranslate"><span class="pre">imagery</span> <span class="pre">-&gt;</span> <span class="pre">i.spec.sam</span></code> all’interno della <code class="docutils literal notranslate"><span class="pre">Lista</span> <span class="pre">delle</span> <span class="pre">estensioni</span></code></p></li>
<li><p>cliccare sul bottone <code class="docutils literal notranslate"><span class="pre">Installa</span></code></p></li>
</ul>
<p>A questo punto l’estensione è installata. Per controllare la corretta installazione
si può digitare <code class="docutils literal notranslate"><span class="pre">i.spec.sam</span></code> nel <code class="docutils literal notranslate"><span class="pre">Layer</span> <span class="pre">Manager</span></code> all’interno della
<code class="docutils literal notranslate"><span class="pre">Console</span> <span class="pre">dei</span> <span class="pre">programmi</span></code>; se tutto è andato a buon fine si aprirà la finestra
del comando.</p>
</div>
</div>
<span id="document-general"></span><div class="section" id="informazioni-di-base">
<h2>Informazioni di base<a class="headerlink" href="#informazioni-di-base" title="Permalink to this headline">¶</a></h2>
<div class="section" id="dati-di-input">
<h3>Dati di input<a class="headerlink" href="#dati-di-input" title="Permalink to this headline">¶</a></h3>
<p>Tutti i moduli, tranne quelli che hanno come input un file
<a class="reference external" href="http://www.asprs.org/Committee-General/LASer-LAS-File-Format-Exchange-Activities.html">LAS</a>,
utilizzano i dati caricati nell’albero dei layer di QGIS,
questo significa che è possibile utilizzare tutti i
<a class="reference external" href="www.gdal.org/formats_list.html">formati</a>, supportati da GDAL.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Se il formato pur essendo nella lista sopra non viene letto
da GDAL vuol dire che la vostra versione di GDAL non è stata
compilata con il supporto per quel formato, per risolvere il
problema dovete contattare chi gestisce la creazione
dell’eseguibile per il vostro sistema operativo</p>
</div>
<p>Per i file LAS è possibile impostare il percorso al file
direttamente all’interno del modulo selezionato.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>I dati devono avere tutti lo stesso sistema di coordinate, non è possibile
eseguire alcuna analisi con dati con proiezioni diverse e non viene
effettuata nessuna riproiezione. Se necessario utilizzare lo strumento
di riproiezione prima di eseguire le analisi.</p>
</div>
</div>
<div class="section" id="dati-di-output">
<h3>Dati di output<a class="headerlink" href="#dati-di-output" title="Permalink to this headline">¶</a></h3>
<p>I dati di output vengono salvati nella directory e con il nome specificato
nel campo apposito.</p>
</div>
<div class="section" id="opzioni-comuni-dei-moduli">
<h3>Opzioni comuni dei moduli<a class="headerlink" href="#opzioni-comuni-dei-moduli" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><em>Aggiungi risultato alla mappa</em>: selezionare se il risultato va aggiunto alla mappa</p></li>
<li><p><em>Utilizza estensione QGIS</em>: taglia i dati sulla estensione attuale della
finestra di visualizzazione dei dati di QGIS</p></li>
</ul>
</div>
</div>
<span id="document-tools/toc_pre_image"></span><div class="section" id="pre-elaborazione-immagini">
<h2>Pre-elaborazione immagini<a class="headerlink" href="#pre-elaborazione-immagini" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<span id="document-tools/ritaglio"></span><div class="section" id="ritaglio">
<h3>Ritaglio<a class="headerlink" href="#ritaglio" title="Permalink to this headline">¶</a></h3>
<p>Il modulo Ritaglio serve per preprocessare i layer (sia vettoriali che raster) sui quali si intende lanciare i moduli STEM creando dei nuovi dataset coerenti con la forma della maschera. Una volta lanciata l’elaborazione, i nuovi layer vengono aggiunti alla TOC. La maschera (ritaglio) è di tipo shapefile M-poligonale. Il poligono può essere usato anche come maschera inversa, ovvero l’area all’interno del poligono viene rimossa. I dati presenti nella TOC (sia vettoriali che raster) vengono caricati di default tra quelli utilizzabili come input, mentre i soli vettoriali vengono aggiunti come scelta sulla quale effettuare il ritaglio. E’ possibile aggiungere ulteriori dataset tramite il pulsante “Sfoglia”.</p>
<div class="section" id="input">
<h4>Input<a class="headerlink" href="#input" title="Permalink to this headline">¶</a></h4>
<p><strong>Dati di input</strong>: selezionare i layer da usare come maschera. Per rimoverle un dataset, selezionarlo e cancellare il layer tramite il tasto “canc”. E’ possibile i drag and drop e la scelta multipla.</p>
<p><strong>Layer maschera</strong>: selezionare lo shapefile da usare come maschera.</p>
<p><strong>Usa Maschera Inversa</strong>: inverte l’area da rimuovere.</p>
</div>
</div>
<span id="document-tools/accatastamento"></span><div class="section" id="accatastamento">
<h3>Accatastamento<a class="headerlink" href="#accatastamento" title="Permalink to this headline">¶</a></h3>
<p>Il modulo accatastamento (o layer stacking) crea un nuovo raster multibanda a partire da più file raster mono o multibanda. L’output sarà un nuovo file multibanda in cui ogni banda (o gruppo di bande) sarà estratta da uno dei file selezionati come input. L’estensione del nuovo file raster dipendera’ dall’utilizzo o meno della funzione ‘forza ritaglio su overlap’. Se questa funzione non viene selezionata l’estensione sara’ pari alla massima estensione dei raster che si sono selezionati per l’accatastamento. Se invece si utilizza ‘forza ritaglio su overlap’ l’estensione dell’output sara’ pari all’estensione massima di sovrapposizione dei raster selezionati rispetto al primo raster.</p>
<div class="section" id="input">
<h4>Input<a class="headerlink" href="#input" title="Permalink to this headline">¶</a></h4>
<p><strong>Dati di input</strong>: nella finestra compaiono i raster attualmente aperti in QGIS. Selezionare i raster da accatastare. E’ possibile eliminare dalla lista uno o piu’ raster selezionarli e premere ‘canc’ o variare l’ordine trascinando il raster selezionato lungo la lista. Si puo’ indicare quali bande accatastare per ciascun raster selezionato inserendo il numero delle bande separate da uno spazio. Per esempio se un raster ha 4 bande e si desidera accatastare solo la prima e seconda banda si dovra’ inserire “1 2”. Se non si seleziona quali bande accatastare per un raster verranno utilizzate tutte.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>L’ordine dei raster è importante soprattutto per definire l’estensione
dell’output. Il primo raster, dall’alto verso il basso, selezionato
sarà quello sul quale si effettuera’ l’accatastamento e l’eventuale ritaglio se si utilizza la funzione ‘forza ritaglio su overlap’.</p>
</div>
</div>
<div class="section" id="parametri">
<h4>Parametri<a class="headerlink" href="#parametri" title="Permalink to this headline">¶</a></h4>
<p><strong>Formato di output</strong>: selezionare il formato per l’output del comando</p>
<blockquote>
<div><ul class="simple">
<li><p><em>ENVI</em>: formato ENVI (file binario + header).</p></li>
<li><p><em>GTIFF</em>: formato GeoTiff.</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="output">
<h4>Output<a class="headerlink" href="#output" title="Permalink to this headline">¶</a></h4>
<p><strong>Risultato</strong>: inserire il percorso e il nome del file di output.</p>
</div>
</div>
<span id="document-tools/correzione_atmosferica"></span><div class="section" id="correzione-atmosferica">
<h3>Correzione atmosferica<a class="headerlink" href="#correzione-atmosferica" title="Permalink to this headline">¶</a></h3>
<p>Il modulo esegue la correzione atmosferica sulla mappa raster di input utilizzando l’algoritmo 6S (Seconda Simulazione del segnale satellite nello spettro solare). Il modulo funziona solo con dati satellitari. Non utilizzare per dati da aereo.
Una descrizione dettagliata dell’algoritmo è disponibile presso il sito internet “Land Surface Reflectance Science Computing Facility” (<a class="reference external" href="http://modis-sr.ltdri.org/">http://modis-sr.ltdri.org/</a>).</p>
<p>Quando viene lanciato la regione in uso viene modificata in modo da coprire la mappa raster di ingresso prima che venga eseguita la correzione atmosferica. Le impostazioni precedenti vengono ripristinate successivamente.
Si noti inoltre che il tempo di passaggio del satellite deve essere specificato in Greenwich Mean Time (GMT).</p>
<p>Per maggiori informazioni si veda la documentazione del comando di GRASS GIS utilizzato <a class="reference external" href="http://grass.osgeo.org/grass70/manuals/i.atcorr.html">i.atcorr</a></p>
<div class="section" id="input">
<h4>Input<a class="headerlink" href="#input" title="Permalink to this headline">¶</a></h4>
<dl>
<dt><strong>Selezionare il file con i parametri 6s</strong>: selezionare il file nel quale sono memorizzati i parametri dell’algoritmo 6s.</dt><dd><p>Si ricorda che tale file deve essere formattato utilizzando le informazioni contentue nel sito “Land Surface Reflectance Science Computing Facility” (<a class="reference external" href="http://modis-sr.ltdri.org/">http://modis-sr.ltdri.org/</a>).
Esempio di file 6S:</p>
<blockquote>
<div><img alt="_images/correzione_atmosferica_esempio_input_1.png" src="_images/correzione_atmosferica_esempio_input_1.png" />
</div></blockquote>
</dd>
</dl>
<p><strong>Dati di input</strong>: nella finestra compaiono i raster attualmente aperti in QGIS. Selezionare il raster su cui applicare la correzione atmosferica.</p>
<p><strong>Selezionare una sola banda</strong>: selezionare la banda sulla quale eseguire la correzione atmosferica. L’algoritmo processa una banda alla volta.</p>
</div>
<div class="section" id="parametri">
<h4>Parametri<a class="headerlink" href="#parametri" title="Permalink to this headline">¶</a></h4>
<p><strong>Selezionare l’algoritmo da utilizzare</strong>: selezionare l’algoritmo con cui effetturare la correzione atmosferica. Al momento è implementato solo l’algoritmo 6s.</p>
<p><strong>Convertire la mappa in input in riflettanza</strong>: selezionando questa opzione, la mappa viene convertita in immagine di riflettanza. Se non viene selezionata questa opzione, l’immagine è restituita in radianza (default).</p>
<p><strong>ETM+ precedente al 1 Luglio 2000</strong>: SOLO nel caso di immagini Landsat 7. Selezionare questa opzione se le immagini sono state acquisite prima del 1 Luglio 2000.</p>
<p><strong>ETM+ successivo al 1 Luglio 2000</strong>: SOLO nel caso di immagini Landsat 7. Selezionare questa opzione se le immagini sono state acquisite dopo il 1 Luglio 2000.</p>
</div>
<div class="section" id="output">
<h4>Output<a class="headerlink" href="#output" title="Permalink to this headline">¶</a></h4>
<p><strong>Risultato</strong>: inserire il percorso e il nome del file raster di output.</p>
</div>
</div>
<span id="document-tools/filtro_riduzione_del_rumore"></span><div class="section" id="filtro-riduzione-del-rumore">
<h3>Filtro riduzione del rumore<a class="headerlink" href="#filtro-riduzione-del-rumore" title="Permalink to this headline">¶</a></h3>
<p>Il modulo riduce il rumore di un’immagine raster applicando filtri spaziali al raster selezionato. Il filtraggio è solitamente utilizzato come fase preliminare del processamento delle immagini telerilevate. In particolare, l’algoritmo sostituisce il valore di ogni pixel nell’immagine con il valore della funzione scelta applicata ad un intorno di pixel scelto dall’utente. Il file di output sarà una nuova immagine raster.</p>
<p>A seconda del tipo di metodo scelto l’utput potrà essere usato per diverse applicazioni: ad esempio il metodo <em>average</em> é solitamente utilizzato per uniformare i valori dei pixel in un’immagine ed evitare di avere in fase di classificazione pixel classificati in modo erroneo sparsi per l’immagine (errore <em>salt and pepper</em>).</p>
<p><strong>Esempio di funzionamento del metodo average</strong>:</p>
<ul>
<li><p>Valori dei pixel dell’immagine di input:</p>
<blockquote>
<div><p>1       1       1       1       1</p>
<p>1       1       1       1       1</p>
<p>1       1       10      1       1</p>
<p>1       1       1       1       1</p>
<p>1       1       1       1       1</p>
</div></blockquote>
</li>
<li><p>Scegliendo  un neighborhood 3, e una finestra circolare si avrà in output:</p>
<blockquote>
<div><p>1       1       1       1       1</p>
<p>1       1       2       1       1</p>
<p>1       2       2       2       1</p>
<p>1       1       2       1       1</p>
<p>1       1       1       1       1</p>
</div></blockquote>
</li>
</ul>
<p>Come si può vedere l’immagine é stata smussata e il valore 10 (molto superiore agli altri valori dell’immagine) é sparito.</p>
<p>Per maggiori informazioni si veda la documentazione del comando di GRASS GIS utilizzato <a class="reference external" href="http://grass.osgeo.org/grass70/manuals/r.neighbors.html">r.neighbors</a></p>
<div class="section" id="input">
<h4>Input<a class="headerlink" href="#input" title="Permalink to this headline">¶</a></h4>
<p><strong>Dati di input</strong>: selezionare l’immagine raster da utilizzare tra i raster attualmente aperti in QGIS.</p>
<p><strong>Selezione bande</strong>: selezionare le bande che si vogliono utilizzare; se non si seleziona nulla vengono utilizzate tutte le bande.</p>
</div>
<div class="section" id="parametri">
<h4>Parametri<a class="headerlink" href="#parametri" title="Permalink to this headline">¶</a></h4>
<p><strong>Selezione l’algoritmo</strong>: selezionare uno degli algoritmi possibili, attualmente solo neighbors.</p>
<p><strong>Selezione il metodo per il neighbors</strong>: si possono scegliere diversi metodi per effettuare la riduzione del rumore</p>
<blockquote>
<div><ul class="simple">
<li><p><em>average</em>: media dei pixel dell’intorno (neighbors);</p></li>
<li><p><em>median</em>: mediana dei pixel dell’intorno (neighbors);</p></li>
<li><p><em>mode</em>: moda dei pixel dell’intorno (neighbors);</p></li>
<li><p><em>minimum</em>: minimo dei pixel dell’intorno (neighbors);</p></li>
<li><p><em>maximum</em>: massimo dei pixel dell’intorno (neighbors);</p></li>
<li><p><em>range</em>: intervallo dei pixel dell’intorno (neighbors);</p></li>
<li><p><em>stddev</em>: deviazione standard dei pixel dell’intorno (neighbors);</p></li>
<li><p><em>sum</em>: somma dei pixel dell’intorno (neighbors);</p></li>
<li><p><em>count</em>: numero dei pixel dell’intorno (neighbors);</p></li>
<li><p><em>variance</em>: varianza dei pixel dell’intorno (neighbors);</p></li>
<li><p><em>diversity</em>: diversità dei pixel dell’intorno (neighbors);</p></li>
<li><p><em>interspersion</em>: interspersion dei pixel dell’intorno (neighbors);</p></li>
<li><p><em>quart1</em>: primo quartile dei pixel dell’intorno (neighbors);</p></li>
<li><p><em>quart3</em>: terzo quartile dei pixel dell’intorno (neighbors);</p></li>
<li><p><em>perc90</em>: 90esimo percentile dei pixel dell’intorno (neighbors);</p></li>
<li><p><em>quantile</em>: n-esimo quartile dei pixel dell’intorno (neighbors).</p></li>
</ul>
</div></blockquote>
<p><strong>Valore del quantile</strong>: valore tra 0 e 1 indicante il quantile da calcolare. Opzione attiva solo se si selezione <em>quantile</em> come metodo per il neighbor.</p>
<p><strong>Dimensione del neighborhood</strong>: valore numerico dispari indicativo della dimensione della finestra mobile del filtro. Il valore deve essere dispari.</p>
<p><strong>Usa neighborhood circolare</strong>: se selezionato viene usata una finestra mobile circolare anzichè quadrata.</p>
</div>
<div class="section" id="output">
<h4>Output<a class="headerlink" href="#output" title="Permalink to this headline">¶</a></h4>
<p><strong>Risultato</strong>: inserire il percorso e il nome del file di output.</p>
</div>
</div>
<span id="document-tools/segmentazione"></span><div class="section" id="segmentazione">
<h3>Segmentazione<a class="headerlink" href="#segmentazione" title="Permalink to this headline">¶</a></h3>
<p>Il modulo effettua la segmentazione di immagini. La segmentazione di immagini è il processo di raggruppamento dei pixel simili in segmenti distinti. In letteratura esistono molti algoritmi di segmentazione; in questo tool è implementato un algoritmo di region growing: l’algoritmo parte da punti “seme” da cui il segmento si espande ai pixel contigui che soddisfano alcuni criteri definiti dall’utente.
Più nel dettaglio, l’algoritmo di region growing esamina iterativamente tutti i segmenti nella mappa raster, calcolando la somiglianza fra il segmento analizzato (secondo una formula di distanza) e ciascuno dei segmenti ad esso vicini.
Due segmenti saranno uniti se, e solo se, soddisfano una serie di criteri, tra cui:</p>
<blockquote>
<div><ul class="simple">
<li><p>i due segmenti sono reciprocamente simili tra loro (la distanza di somiglianza è inferiore rispetto alla soglia di ingresso), e</p></li>
<li><p>la somiglianza fra di essi è maggiore rispetto agli altri segmenti adiacenti. Il processo viene ripetuto fino a quando non è possibile eseguire ulteriori fusioni delle regioni.</p></li>
</ul>
</div></blockquote>
<p>Ad ogni oggetto trovato durante il processo di segmentazione viene assegnato un ID univoco.
Nota che la segmentazione differesce dalla classificazione dove tutti i pixel simili tra loro sono assegnati alla stessa classe e non devono essere contigui (nella segmentazione devono essere contigui!).
Il risultati di una segmentazione di un’immagine può essere utile per conto proprio o essere utilizzato come un passo di preprocessing per la classificazione delle immagini.
La segmentazione è una fase di pre-elaborazione in grado di ridurre il rumore e velocizzare la classificazione.</p>
<p>Per maggiori informazioni si veda la documentazione del comando di GRASS GIS utilizzato <a class="reference external" href="http://grass.osgeo.org/grass70/manuals/i.segment.html">i.segment</a></p>
<div class="section" id="input">
<h4>Input<a class="headerlink" href="#input" title="Permalink to this headline">¶</a></h4>
<p><strong>Dati di input</strong>: nella finestra compaiono i raster attualmente aperti in QGIS. Selezionare il raster su cui eseguire la segmentazione.</p>
</div>
<div class="section" id="parametri">
<h4>Parametri<a class="headerlink" href="#parametri" title="Permalink to this headline">¶</a></h4>
<p><strong>Seleziona il threshold da utilizzare</strong>: seleziona il threshold di “somiglianza” con il quale suddividere in segmenti l’immagine. La somiglianza tra i segmenti e gli oggetti non uniti è utilizzata per determinare quali pixel possono essere fusi fra loro in unico oggetto. Valori di distanza piccoli indicano una corrispondenza più stretta, con un punteggio di somiglianza pari a zero per i pixel identici. Durante la normale elaborazione, le fusioni sono consentite soltanto quando la somiglianza tra due segmenti è inferiore al valore di soglia. La soglia deve essere maggiore di 0 e minore di 1. Una soglia 0 consentirebbe di unire solo pixels con valori identici, mentre una soglia 1 consentirebbe di unire tutti i pixel in un’unica regione. Test empirici iniziali indicano che valori di soglia nell’intervallo 0.2-0.01 sono valori ragionevoli: ad ogni modo tale valore dipende dalla tipologia di immagine e di oggetti presi in considerazione. Si raccomanda di iniziare con un valore basso, ad esempio 0.01, e quindi eseguire la segmentazione gerarchica utilizzando l’uscita dell’ultima esecuzione come “seme” per la corsa successiva.</p>
<p><strong>Seleziona il metodo di calcolo della similarità</strong>: seleziona il metodo per calcolare la similarità fra pixel adiacienti.</p>
<blockquote>
<div><ul class="simple">
<li><p><em>euclidean</em>: calcola la distanza euclidea fra i valori dei due pixel adiacenti.</p></li>
<li><p><em>manhattan</em>: calcola la distanza Manhattan fra i valori dei due pixel adiacenti.</p></li>
</ul>
</div></blockquote>
<p><strong>Numero massimo di iterazioni</strong>: rappresenta il numero massimo di iterazioni eseguite dall’algoritmo durante il processo di aggregazione dei segmenti. Più il numero è elevato, più il processo è completo, richiedendo tuttavia un maggior tempo di elaborazione. Il numero impostato di default rappresenta un valore inferiore al di sotto del quale è consigliabile non andare.</p>
<p><strong>Selezionare il numero minimo di pixel in un segmento</strong>: rappresenta il numero minimo di pixel di cui deve essere composto ogni singolo segmento. Durante l’iterazione finale del processo, qualora un segmento abbia dimensione minima inferiore, verrà aggregato on il segmento adiacente più simile anche se la somiglianza è superiore alla soglia (vedi spiegazione threshold di similarità).</p>
<p><strong>Inserire il valore di memoria da utilizzare in MB</strong>: esprime il valore in MB di RAM da utilizzare per il processo in corso.</p>
</div>
<div class="section" id="output">
<h4>Output<a class="headerlink" href="#output" title="Permalink to this headline">¶</a></h4>
<p><strong>Risultato</strong>: inserire il percorso e il nome del file di output.</p>
<p><strong>Goodness of fit</strong>: La bontà di adattamento per ciascun pixel viene calcolato come 1 - distanza del pixel dal segmento a cui appartiene. La distanza è calcolata con il metodo di somiglianza selezionato. Il valore 1 significa valori identici, mentre il valore 0 significa massima distanza possibile.</p>
</div>
</div>
<span id="document-tools/dark_object_subtraction"></span><div class="section" id="dark-object-subtraction">
<h3>Dark object subtraction<a class="headerlink" href="#dark-object-subtraction" title="Permalink to this headline">¶</a></h3>
<p>Il modulo esegue la correzione atmosferica sulla mappa raster di input utilizzando l’algoritmo “Dark Object Subtraction””. Il modulo funziona solo con dati satellitari Landsat. Non utilizzare per dati da aereo.</p>
<p>Questo modulo viene utilizzato per trasformare i digital number calibrati di immagini Landsat in radianza “top-of-atmosphere” o riflettanza “top-of-atmosphere” e in temperatura (banda 6 dei sensori TM e ETM +). Facoltativamente, può essere usato per calcolare la radianza in superficie o riflettanza con correzione atmosferica (metodo DOS).
Di solito, per farlo sono necessari la data di produzione, la data di acquisizione, e l’elevazione solare. Inoltre, per Landsat-7 ETM + è necessario anche il “gain” (alto o basso) delle bande Landsat. Questi dati vengono letti dal file di metadati (.met o MTL.txt) per tutti i Landsat MSS, TM, ETM + e OLI / TIRS.</p>
<p>Attenzione: Qualsiasi valore del raster nullo o inferiore rispetto QCALmin viene impostato a null nel raster di uscita e non è incluso nelle equazioni.</p>
<p><strong>Valori “uncorrected at-sensor” (Metodo di correzione atmosferica = uncorrected, default)</strong></p>
<p>Le correzioni geometriche e radiometriche standard generano delle immagini con digital number calibrati (QCAL = DN). Per poter standardizzare ulteriormente l’impatto dell’illuminazione sulla geometria, le immagini QCAL sono convertite prima di tutto in radianza “at-sensor” e poi in riflettanza “at-sensor”. La banda termica è prima convertita da QCAL in radianza “at-sensor”, e poi in temperatura effettiva “at-sensor” in gradi Kelvin. La correzione radiometrica converte i valori QCAL in radianza “at-sensor” (misurata in W/(m² * sr * µm)) usando le equazioni:</p>
<blockquote>
<div><ul class="simple">
<li><p>gain = (Lmax - Lmin) / (QCALmax - QCALmin)</p></li>
<li><p>bias = Lmin - gain * QCALmin</p></li>
<li><p>radianza = gain * QCAL + bias</p></li>
</ul>
</div></blockquote>
<p>dove, <em>Lmax</em> e <em>Lmin</em> sono costanti di calibrazione, e <em>QCALmax</em> e <em>QCALmin</em> sono i valori massimo e minimo del range della radianza riscalata in QCAL.
Successivamente per calcolare la riflettanza “at-sensor” le equazioni sono:</p>
<blockquote>
<div><ul class="simple">
<li><p>sun_radiance = [Esun * sin(e)] / (PI * d^2)</p></li>
<li><p>reflectance = radiance / sun_radiance</p></li>
</ul>
</div></blockquote>
<p>dove, <em>d</em> è la distanza Terra-Sole in unità astronomiche, <em>e</em> è l’angolo di elevazione del sole, e <em>Esun</em> è il valore medio di irradianza esoatmosferica in W/(m² * µm).</p>
<p><strong>Valori semplificati “at-surface” (Metodo di correzione atmosferica = dos[1-4])</strong></p>
<p>La correzione atmosferica e la calibrazione della riflettanza rimuovono la “path radiance”, ovvero la luce sporadica dall’atmosfera, e l’effetto spettrale dell’illuminazione solare. Le equazioni per ottenere la radianza “at-surface” e la riflettanza “at-surface” (non valide per le bande termiche) sono le seguenti:</p>
<blockquote>
<div><ul class="simple">
<li><p>sun_radiance = TAUv * [Esun * sin(e) * TAUz + Esky] / (PI * d^2)</p></li>
<li><p>radiance_path = radiance_dark - percent * sun_radiance</p></li>
<li><p>radiance = (at-sensor_radiance - radiance_path)</p></li>
<li><p>reflectance = radiance / sun_radiance</p></li>
</ul>
</div></blockquote>
<p>dove <em>percent</em> è un valore tra 0.0 e 1.0 (di solito 0.01), <em>Esky</em> è l’irradianza diffusa, <em>TAUz</em> è la trasmittanza dell’atmosfera lungo il percorso tra il sole e la superficie del suolo, e <em>TAUv</em> è la trasmittanza dell’atmosfera lungo il percorso tra la superficie del suolo e il sensore. <em>radiance_dark</em> è la radianza “at-sensor” calcolata dall’oggetto più scuro, ad esempio il valore di digital number con almeno ‘dark_parameter’ (solitamente 1000) pixels per l’intera immagine. I valori sono,</p>
<blockquote>
<div><ul class="simple">
<li><p>DOS1: TAUv = 1.0, TAUz = 1.0 and Esky = 0.0</p></li>
<li><p>DOS2: TAUv = 1.0, Esky = 0.0, and TAUz = sin(e) per tutte le bande con lunghezza d’onda massima minore di 1 (i.e. bands 4-6 MSS, 1-4 TM, and 1-4 ETM+). Per le altre bande TAUz = 1.0</p></li>
<li><p>DOS3: TAUv = exp[-t/cos(sat_zenith)], TAUz = exp[-t/sin(e)], Esky = rayleigh</p></li>
<li><p>DOS4: TAUv = exp[-t/cos(sat_zenith)], TAUz = exp[-t/sin(e)], Esky = PI * radiance_dark</p></li>
</ul>
</div></blockquote>
<p>Attenzione: la radinaza in uscita non viene modificata (es.: i valori negativi non vengono settati a 0) quindi è possibile vi siano valori negativi. In ogni caso i valori di riflettanza vengono settati a 0 quando negativi.</p>
<p>Per maggiori informazioni si veda la documentazione del comando di GRASS GIS utilizzato <a class="reference external" href="http://grass.osgeo.org/grass70/manuals/i.landsat.toar.html">i.landsat.toar</a></p>
<div class="section" id="input">
<h4>Input<a class="headerlink" href="#input" title="Permalink to this headline">¶</a></h4>
<p><strong>Selezionare la cartella contenente i file Landsat</strong>: selezionare la acrtella contenet i file Landsat. I file devono avere i nomi nel segunte formato: “basename.1” per la banda 1, “basename.2” per la banda 2, ecc. “basename” viene inserito tra i parametri.</p>
<p><strong>Selezionare il file dei metadata dei dati Landsat da analizzare</strong>: Selezionare il file dei metadati dei dati Landsat da analizzare che dovrà essere o “.met” o chiamarsi “MTL.txt”.</p>
</div>
<div class="section" id="parametri">
<h4>Parametri<a class="headerlink" href="#parametri" title="Permalink to this headline">¶</a></h4>
<p><strong>Selezionare il prefisso dei dati Landsat</strong>: inserire il prefisso per i nomi dei file di input (“basename”).</p>
<p><strong>Metodo di correzione atmosferica</strong>:</p>
<blockquote>
<div><ul class="simple">
<li><p><em>uncorrected</em></p></li>
<li><p><em>dos1</em></p></li>
<li><p><em>dos2</em></p></li>
<li><p><em>dos2b</em></p></li>
<li><p><em>dos3</em></p></li>
<li><p><em>dos4</em></p></li>
</ul>
</div></blockquote>
<p><strong>Percentuale della radianza solare</strong>: percentuale della radianza solare nella path radiance. E’ richiesto solo se il methodo è un “dos”. Valore di default: 0.01.</p>
<p><strong>Numero minimo di pixel da considerare numero digitale dark object</strong>: numero minimo di pixel da considerare digital number come dark object. E’ richiesto solo se il methodo è un “dos”. Valore di default: 1000.</p>
<p><strong>Valore dello scattering di Rayleigh, si utilizza solo con il metodo “dos3”</strong>: valore di irradianza diffusa di Rayleigh. Richiesto solo per il metodo “dos3”. Valore di default: 0.</p>
</div>
<div class="section" id="output">
<h4>Output<a class="headerlink" href="#output" title="Permalink to this headline">¶</a></h4>
<p><strong>Selezionare il prefisso per salvare i risultati</strong>: prefisso dei nomi dei file di output.</p>
</div>
</div>
<span id="document-tools/pansharpening"></span><div class="section" id="pansharpening">
<h3>Pansharpening<a class="headerlink" href="#pansharpening" title="Permalink to this headline">¶</a></h3>
<p>Il modulo utilizza la banda pancromatica di un’immagine multispettrale per incrementare la risoluzione di altre tre bande a più bassa risoluzione geometrica. Le tre bande possono poi essere combinate in un’immagine RGB a più alta risoluzione geometrica. Per esempio, un’immagine Landsat ETM ha alcune bande a 30 m di risoluzione spaziale [banda 1 (blu), 2 (verde), 3 (rosso), 4 (NIR), 5 (mid-IR), and 7 (mid-IR)], e una banda pancromatica a più alta risoluzione(banda 8 a 15m di risoluzione geometrica). Il modulo pansharpening permette alle bande 3-2-1 (o ad altre combinazioni di bande a 30 m di risoluzione, come ad esempio 4-3-2 or 5-4-2) di essere combinate in un’immagine a 15 metri di risoluzione.</p>
<p>Per maggiori informazioni si veda la documentazione del comando di GRASS GIS utilizzato <a class="reference external" href="http://grass.osgeo.org/grass70/manuals/i.pansharpen.html">i.pansharpen</a></p>
<div class="section" id="input">
<h4>Input<a class="headerlink" href="#input" title="Permalink to this headline">¶</a></h4>
<p><strong>Dati di input</strong>: selezionare il raster a risoluzione più bassa contenente le tre bande per cui la risoluzione va incrementata. Il raster deve essere precedentemente aperto in QGIS.</p>
<blockquote>
<div><ul class="simple">
<li><p><em>Selezionare la banda per il canale rosso</em>: selezionare tra le bande dell’immagine caricata sopra la banda corrispondente al canale del rosso;</p></li>
<li><p><em>Selezionare la banda per il canale verde</em>: selezionare tra le bande dell’immagine caricata sopra la banda corrispondente al canale del verde;</p></li>
<li><p><em>Selezionare la banda per il canale blu</em>: selezionare tra le bande dell’immagine caricata sopra la banda corrispondente al canale del blu;</p></li>
</ul>
</div></blockquote>
<p><strong>Dati di input</strong>: selezionare il raster contente la banda a risoluzione migliore da utilizzare per il pansharpening. Il raster deve essere precedentemente aperto in QGIS.</p>
<blockquote>
<div><ul class="simple">
<li><p><em>Selezionare la banda a risoluzione migliore</em>: selezionare tra le bande dell’immagine caricata sopra la banda a maggiore risoluzione.</p></li>
</ul>
</div></blockquote>
<p><strong>Selezione bande</strong>: selezionare le bande che si vogliono utilizzare; se non si seleziona nulla vengono utilizzate tutte le bande.</p>
</div>
<div class="section" id="parametri">
<h4>Parametri<a class="headerlink" href="#parametri" title="Permalink to this headline">¶</a></h4>
<p><strong>Seleziona il tipo di Pansharpening</strong>: si possono scegliere diversi metodi per effettuare il pansharpening:</p>
<blockquote>
<div><ul>
<li><p><em>brovey</em>: nel pansharpening Brovey, ognuna delle 3 bande a bassa risoluzione e la banda pancromatica sono combinati utilizzando il seguente algoritmo per calcolare 3 nuove bande alla risoluzione più elevata (ad esempio, per la banda 1):</p>
<blockquote>
<div><p>nuova_banda1 = [banda1/(banda1+banda2+banda3)]*pancromatica</p>
</div></blockquote>
</li>
<li><p><em>ihs</em>: nel pansharpening IHS le 3 bande a bassa risoluzione originali, selezionate come canali rosso, verde e blu per creare un’immagine composita RGB, vengono trasformate in IHS (intensità, tonalità e saturazione). La banda pancromatica viene quindi sostituita al canale intensità (I), in combinazione con la tonalità (H) e saturazione (S) originali. L’immagine IHS viene poi ritrasformata verso lo spazio colore RGB alla risoluzione spaziale della banda pancromatica. L’algoritmo può essere rappresentato come: RGB - &gt; IHS - &gt; [pan]HS - &gt; RGB.</p></li>
<li><p><em>pca</em>: nel pansharpening PCA un’analisi delle componenti principali viene eseguita sulle 3 bande a bassa risoluzione originali per creare 3 immagini delle componenti principali (PC1, PC2 e PC3) e i loro autovettori associati (EV), in modo tale che:</p>
<blockquote>
<div><table class="docutils align-default">
<colgroup>
<col style="width: 18%" />
<col style="width: 26%" />
<col style="width: 28%" />
<col style="width: 28%" />
</colgroup>
<tbody>
<tr class="row-odd"><td></td>
<td><p>banda1</p></td>
<td><p>banda2</p></td>
<td><p>banda3</p></td>
</tr>
<tr class="row-even"><td><p>PC1</p></td>
<td><p>EV1-1</p></td>
<td><p>EV1-2</p></td>
<td><p>EV1-3</p></td>
</tr>
<tr class="row-odd"><td><p>PC2</p></td>
<td><p>EV2-1</p></td>
<td><p>EV2-2</p></td>
<td><p>EV2-3</p></td>
</tr>
<tr class="row-even"><td><p>PC3</p></td>
<td><p>EV3-1</p></td>
<td><p>EV3-2</p></td>
<td><p>EV3-3</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
</li>
</ul>
<blockquote>
<div><p>e</p>
<blockquote>
<div><p>PC1 = EV1-1 * banda1 + EV1-2 * banda2 + EV1-3 * banda3 - media(bande 1,2,3)</p>
</div></blockquote>
<p>Una PCA inversa e’ poi applicata sostituendo la banda pancromatica al posto della prima componente principale (PC1). Per fare questo la matrice degli autovettori é invertita (in questo caso trasposta), le immagini delle componenti principali (PC) sono moltiplicate per gli autovettori con la banda pancromatica sostituita a PC1, ed il valore medio di ogni banda é aggiuntoad ogni immagine trasformata secondo il seguente algoritmo (as esempio per la banda 1):</p>
<blockquote>
<div><p>nuova_banda1 = pancromatica * EV1-1 + PC2 * EV2-1 + PC3 * EV3-1 + media(banda1)</p>
</div></blockquote>
</div></blockquote>
</div></blockquote>
</div>
<div class="section" id="output">
<h4>Output<a class="headerlink" href="#output" title="Permalink to this headline">¶</a></h4>
<p><strong>Prefisso del risultato</strong>: inserire il percorso e il prefisso dei nomi dei file di output.</p>
</div>
</div>
</div>
</div>
<span id="document-tools/toc_pre_lidar"></span><div class="section" id="pre-elaborazione-lidar">
<h2>Pre-elaborazione LIDAR<a class="headerlink" href="#pre-elaborazione-lidar" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<span id="document-tools/filtraggio_file_las"></span><div class="section" id="filtraggio-file-las">
<h3>Filtraggio file LAS<a class="headerlink" href="#filtraggio-file-las" title="Permalink to this headline">¶</a></h3>
<p>Il modulo esegue il filtraggio dei file .las (o .laz) in modo da selezionare solo i punti LIDAR che rispettano determinate regole.</p>
<div class="section" id="input">
<h4>Input<a class="headerlink" href="#input" title="Permalink to this headline">¶</a></h4>
<p><strong>File LAS di input</strong>: selezionare il file .las (o .laz) da filtrare.</p>
</div>
<div class="section" id="parametri">
<h4>Parametri<a class="headerlink" href="#parametri" title="Permalink to this headline">¶</a></h4>
<p>Tutti i parametri sono opzionali. Se non viene impostato nessun parametro il modulo darà in output lo stesso file .las (o .laz) di input.</p>
<p><strong>Selezionare il ritorno da mantenere</strong>: se non si seleziona nulla vengono matenuti tutti i ritorni.</p>
<blockquote>
<div><ul class="simple">
<li><p><em>primo</em>: primi ritorni;</p></li>
<li><p><em>ultimo</em>: ultimi ritorni;</p></li>
<li><p><em>altri</em>: ritorni intermedi;</p></li>
</ul>
</div></blockquote>
<p><strong>Inserire il valore minimo per la X</strong>: valore minimo della X da mantenere. Se non si inserisce non ci sarà una soglia minima per la X.</p>
<p><strong>Inserire il valore massimo per la X</strong>: valore massimo della X da mantenere. Se non si inserisce non ci sarà una soglia massima per la X.</p>
<p><strong>Inserire il valore minimo per la Y</strong>: valore minimo della Y da mantenere. Se non si inserisce non ci sarà una soglia minima per la Y.</p>
<p><strong>Inserire il valore massimo per la Y</strong>: valore massimo della Y da mantenere. Se non si inserisce non ci sarà una soglia massima per la Y.</p>
<p><strong>Inserire il valore minimo per la Z</strong>: valore minimo della Z da mantenere. Se non si inserisce non ci sarà una soglia minima per la Z.</p>
<p><strong>Inserire il valore massimo per la Z</strong>: valore massimo della Z da mantenere. Se non si inserisce non ci sarà una soglia massima per la Z.</p>
<p><strong>Inserire il valore minimo per l’intensita’</strong>: valore minimo dell’intensita’ da mantenere. Se non si inserisce non ci sarà una soglia minima per l’intensita’.</p>
<p><strong>Inserire il valore massimo per l’intensita’</strong>: valore massimo dell’intensita’ da mantenere. Se non si inserisce non ci sarà una soglia massima per l’intensita’.</p>
<p><strong>Inserire il valore minimo per l’angolo di scansione</strong>: valore minimo dell’angolo di scansione da mantenere. Se non si inserisce non ci sarà una soglia minima per l’angolo di scansione.</p>
<p><strong>Inserire il valore massimo per l’angolo di scansione</strong>: valore massimo dell’angolo di scansione da mantenere. Se non si inserisce non ci sarà una soglia massima per l’angolo di scansione.</p>
<p><strong>Inserire i valori minimo e massimo per l’angolo di scansione</strong>: valori minimo e massimo per l’angolo di scansione da mantenere. I valori vanno seprati da uno spazio.</p>
<p><strong>Inserire il valore della classe da tenere</strong>: valore della classe da mantenere (deve essere un numero intero).</p>
</div>
<div class="section" id="output">
<h4>Output<a class="headerlink" href="#output" title="Permalink to this headline">¶</a></h4>
<p><strong>Risultato</strong>: inserire il percorso e il nome del file di output.</p>
<p><strong>Comprimere il file di output</strong>: se selzionato l’output sara’ in formato .laz.</p>
</div>
</div>
<span id="document-tools/unione_file_las"></span><div class="section" id="unione-file-las">
<h3>Unione file LAS<a class="headerlink" href="#unione-file-las" title="Permalink to this headline">¶</a></h3>
<p>Il modulo unisce due file .las (o .laz) e li salva in un unico file .las (o .laz).</p>
<div class="section" id="input">
<h4>Input<a class="headerlink" href="#input" title="Permalink to this headline">¶</a></h4>
<p><strong>File las di input</strong>: selezionare il primo file .las (o .laz) da unire.</p>
<p><strong>File las di input</strong>: selezionare il secondo file .las (o .laz) da unire.</p>
</div>
<div class="section" id="output">
<h4>Output<a class="headerlink" href="#output" title="Permalink to this headline">¶</a></h4>
<p><strong>Risultato</strong>: inserire il percorso e il nome del file di output.</p>
</div>
</div>
<span id="document-tools/ritaglio_file_las"></span><div class="section" id="ritaglio-file-las">
<h3>Ritaglio file LAS<a class="headerlink" href="#ritaglio-file-las" title="Permalink to this headline">¶</a></h3>
<p>Il modulo permette di ritagliare un file .las (o .laz) rispetto ad una maschera (può contenere più poligoni). L’output é un file .las (o .laz) contente i punti ritagliati.</p>
<div class="section" id="input">
<h4>Input<a class="headerlink" href="#input" title="Permalink to this headline">¶</a></h4>
<p><strong>Mascherat</strong>: selezionare il vettoriale (es: .shp) con cui ritagliare.</p>
<p><strong>File las di input</strong>: selezionare il file las (o .laz) da ritagliare.</p>
</div>
<div class="section" id="output">
<h4>Output<a class="headerlink" href="#output" title="Permalink to this headline">¶</a></h4>
<p><strong>Risultato</strong>: inserire il percorso e il nome del file di output (las o laz).</p>
</div>
</div>
<span id="document-tools/estrazione_chm"></span><div class="section" id="estrazione-chm">
<h3>Estrazione CHM<a class="headerlink" href="#estrazione-chm" title="Permalink to this headline">¶</a></h3>
<p>Il modulo “normalizza” rispetto alla quota del suolo la Z delle coordinate dei punti LiDAR all’interno di un file .las. Se il file .las ricopre un’area forestale si avrà in uscita il Canopy Height Model.
L’algoritmo sottrae alla Z di ogni punto del file .las di input la quota del DTM in quel punto.
Il CHM in uscita è un file .las in cui sono memorizzati i punti la cui quota è data dalla differenza fra i punti del file .las di input e la quota del Digital Terrain Model - DTM (fornito in formato raster).</p>
<div class="section" id="input">
<h4>Input<a class="headerlink" href="#input" title="Permalink to this headline">¶</a></h4>
<p><strong>File LAS di input</strong>: scegliere il file .las a cui sottrarre la quota del suolo.</p>
<p><strong>File DTM di input</strong>: scegliere il file raster del Digital Terrain Model (DTM).</p>
</div>
<div class="section" id="output">
<h4>Output<a class="headerlink" href="#output" title="Permalink to this headline">¶</a></h4>
<p><strong>Risultato</strong>: inserire il percorso e il nome del file .las (o .laz) di output.</p>
</div>
</div>
<span id="document-tools/rasterizzazione_file_las"></span><div class="section" id="rasterizzazione-file-las">
<h3>Rasterizzazione file LAS<a class="headerlink" href="#rasterizzazione-file-las" title="Permalink to this headline">¶</a></h3>
<p>Il modulo serve per creare immagini raster partendo da file in formato .las (o .laz). I principali passaggi effettuati dall’algoritmo sono: 1) creazione di una griglia uniforme di risoluzione spaziale pari alla risoluzione scelta dall’utente; 2) per ogni cella vengono estratte le altezze (Z) dei punti LIDAR contenuti in essa; 3) ai valori di altezza (Z) estratti precedentemente viene applicato il metodo statistico scelto dall’utente (es. media); 4) partendo dai valori ottenuti al punto 3 viene creata un’immagine raster.
L’utente può scegliere tra una varietà di metodi statistici nella creazione dell’immagine raster. L’output sarà un’immagine raster.</p>
<p>Per maggiori informazioni si veda la documentazione della funzione grid_terrain del pacchetto lidR di R <a class="reference external" href="https://www.rdocumentation.org/packages/lidR/versions/3.0.3/topics/grid_terrain">https://www.rdocumentation.org/packages/lidR/versions/3.0.3/topics/grid_terrain</a></p>
<div class="section" id="input">
<h4>Input<a class="headerlink" href="#input" title="Permalink to this headline">¶</a></h4>
<p><strong>File LAS di input</strong>: selezionare il file .las (o .laz) da rasterizzare.</p>
</div>
<div class="section" id="parametri">
<h4>Parametri<a class="headerlink" href="#parametri" title="Permalink to this headline">¶</a></h4>
<p><strong>Selezionare il ritorno desiderato</strong>: con questo parametro si sceglie quali ritorni utilizzare nella fase di rasterizzazione.</p>
<blockquote>
<div><ul class="simple">
<li><p><em>all</em>: tutti i ritorni;</p></li>
<li><p><em>first</em>: solo il primo ritorno;</p></li>
<li><p><em>last</em>: solo l’ultimo ritorno;</p></li>
<li><p><em>mid</em>: solo i ritorni intermedi.</p></li>
</ul>
</div></blockquote>
<p><strong>Selezionare il metodo statistico da utilizzare</strong>: con questo parametro si sceglie il metodo statistico da utilizzare nella fase di rasterizzazione</p>
<blockquote>
<div><ul class="simple">
<li><p><em>n</em>: numero di punti nel pixel;</p></li>
<li><p><em>min</em>: valore minimo dei punti nel pixel;</p></li>
<li><p><em>max</em>: valore massimo dei punti nel pixel;</p></li>
<li><p><em>range</em>: intervallo dei valori dei punti nel pixel;</p></li>
<li><p><em>sum</em>: somma dei valori dei punti nel pixel;</p></li>
<li><p><em>mean</em>: media dei punti nel pixel;</p></li>
<li><p><em>stddev</em>:     deviazione standard dei punti nel pixel;</p></li>
<li><p><em>variance</em>: varianza dei punti nel pixel</p></li>
<li><p><em>coeff_var</em>: coefficiente di variazione dei punti nel pixel in percentuale [(deviazione_standard/media)*100];</p></li>
<li><p><em>median</em>: mediana dei punti nel pixel</p></li>
<li><p><em>percentile</em>: n-esimo percentile dei punti nel pixel</p></li>
<li><p><em>skewness</em>: skewness dei punti nel pixel</p></li>
<li><p><em>trimmean</em>: media dei punti nel pixel al di sopra e al di sotto di una soglia.</p></li>
</ul>
</div></blockquote>
<p><strong>Percentile valori supportati 1 100</strong> (opzionale): valore del percentile (attivo solo se si estrae il percentile).</p>
<p><strong>Soglia trim</strong>: valore della soglia da usare in trimmean (attivo solo se si estrae il trimmean).</p>
<p><strong>Risoluzione finale del raster</strong>: risoluzione geometrica del file di output in metri.</p>
<p><strong>Classe</strong> (opzionale): i numeri della classe o classi da considerare, se si seleziona più classi vanno separate da uno spazio.</p>
</div>
<div class="section" id="output">
<h4>Output<a class="headerlink" href="#output" title="Permalink to this headline">¶</a></h4>
<p><strong>Risultato</strong>: inserire il percorso e il nome del file di output.</p>
</div>
</div>
<span id="document-tools/estrazione_feature_lidar_da_poligoni"></span><div class="section" id="estrazione-feature-lidar-da-poligoni">
<h3>Estrazione feature LIDAR da poligoni<a class="headerlink" href="#estrazione-feature-lidar-da-poligoni" title="Permalink to this headline">¶</a></h3>
<p>Il modulo permette di estrarre feature LIDAR a partire da un file .las (o .laz) e uno shapefile poligonale. L’output è uno shapefile contente come attributi i parametri estratti dal file.</p>
<div class="section" id="input">
<h4>Input<a class="headerlink" href="#input" title="Permalink to this headline">¶</a></h4>
<p><strong>Dati di input</strong>: selezionare lo shapefile da usare per ritagliare il file .las. Lo shapefile deve essere stato precedentemente aperto in Qgis.</p>
<p><strong>File LAS di input</strong>: selezionare il file .las da ritagliare.</p>
</div>
<div class="section" id="parametri">
<h4>Parametri<a class="headerlink" href="#parametri" title="Permalink to this headline">¶</a></h4>
<dl class="simple">
<dt><strong>Seleziona le statistiche da calcolare</strong>: selezionare dal menù a tendina le statistiche da calcolare.</dt><dd><ul class="simple">
<li><p><em>[max] Valore massimo altezza punti</em>: valore massimo di altezza dei punti.</p></li>
<li><p><em>[mean] Altezza media punti</em>: valore medio di altezza dei punti.</p></li>
<li><p><em>[mode] Valore moda punti</em>: valore moda di altezza dei punti.</p></li>
<li><p><em>[hcv] Coefficiente di variazione</em>: rapporto tra la deviazione standard delle altezze dei punti e la media delle altezze.</p></li>
<li><p><em>[p10 - p90] N-esimo percentile altezze punti</em>: percentile sulle altezze dal 10mo al 90mo.</p></li>
</ul>
</dd>
</dl>
<p><strong>Seleziona le dimensione</strong>: selezionare dal menù a tendina la dimensione a cui applicare le statistiche da calcolare.</p>
</div>
<div class="section" id="output">
<h4>Output<a class="headerlink" href="#output" title="Permalink to this headline">¶</a></h4>
<p><strong>Risultato</strong>: inserire il percorso e il nome del file di output.</p>
</div>
</div>
</div>
</div>
<span id="document-tools/toc_estrazioni_feature"></span><div class="section" id="estrazione-feature">
<h2>Estrazione feature<a class="headerlink" href="#estrazione-feature" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<span id="document-tools/feature_di_tessitura"></span><div class="section" id="feature-di-tessitura">
<h3>Feature di tessitura<a class="headerlink" href="#feature-di-tessitura" title="Permalink to this headline">¶</a></h3>
<p>Il modulo crea mappe raster contenti le feature di tessitura estratte a partire da un layer raster specificato dall’utente. Il modulo calcola caratteristiche tessiturali basate su matrici di dipendenza spaziale a 0, 45, 90, e 135 gradi di distanza (default = 1). Il modulo assume livelli di grigio che vanno da 0 a 255 come input. L’ingresso è riscalato automaticamente a 0 a 255 se la gamma del file di input è al di fuori di questo intervallo.
In generale, più variabili costituiscono feature di tessitura: differenze nei valori di livello di grigio, grossolanità come scala di differenze dei livelli di grigio, la presenza o la mancanza di direzionalità e di schemi regolari. Una feature di tessitura può essere caratterizzata da toni (proprietà di intensità dei liveli di grigio) e da struttura (relazioni spaziali). Dal momento che le feature di tessitura sono altamente dipendenti dalla scala, si possono verificare strutture gerarchiche tra le feature.</p>
<p>Il modulo prende in input un layer raster e calcola le caratteristiche tessiturali basandosi su matrici di dipendenza spaziale in direzione nord-sud, est-ovest, nord-ovest, sud-ovest e nelle direzioni con un fianco a fianco, in zona (ad esempio, una distanza di 1). L’uscita consiste in quattro immagini per ogni funzione strutturale, una per ogni direzione.</p>
<p>Un modello di struttura comunemente usato è basato sulla cosiddetta matrice di co-occorrenza dei livelli di grigio. Questa matrice è un istogramma bidimensionale di livelli di grigio per ogni coppia di pixel che sono separati da una relazione spaziale fissa. La matrice approssima la distribuzione di probabilità congiunta di una coppia di pixel. Diverse misure di tessitura sono direttamente calcolate sulla matrice di co-occorrenza dei livelli di grigio.</p>
<p>Per maggiori informazioni si veda la documentazione del comando di GRASS GIS utilizzato <a class="reference external" href="http://grass.osgeo.org/grass70/manuals/r.texture.html">r.texture</a></p>
<div class="section" id="input">
<h4>Input<a class="headerlink" href="#input" title="Permalink to this headline">¶</a></h4>
<p><strong>Dati di input</strong>: selezionare il raster da utilizzare tra quelli attualmente aperti in QGIS.</p>
<p><strong>Selezionare le bande da utilizzare</strong>: selezionare le bande che si vogliono utilizzare; se non si seleziona nulla vengono utilizzate tutte le bande.</p>
</div>
<div class="section" id="parametri">
<h4>Parametri<a class="headerlink" href="#parametri" title="Permalink to this headline">¶</a></h4>
<p><strong>Metodi per calcolare la tessitura</strong>: si possono scegliere diversi metodi di calcolo delle feature di tessitura</p>
<blockquote>
<div><ul class="simple">
<li><p><em>Somma media (SA)</em>: questa misura fornisce la media dei livelli di grigio all’interno della finestra mobile.</p></li>
<li><p><em>Entropia (ENT)</em>: questa misura analizza la casualità. ENT è alto quando i valori della finestra mobile hanno valori simili. ENT è bassa quando i valori sono vicini a 0 o 1 (cioè quando i pixel nella finestra locale sono uniformi).</p></li>
<li><p><em>Differenza di entropie (DE)</em>.</p></li>
<li><p><em>Somma di entropie (SE)</em>.</p></li>
<li><p><em>Varianza (VAR)</em>: fornisce una misura della varianza dei toni di grigio all’interno della finestra mobile.</p></li>
<li><p><em>Differenza di varianze (DV)</em>.</p></li>
<li><p><em>Somma di varianze (SV)</em>.</p></li>
<li><p><em>Secondo momento angolare (ASM, chiamato anche uniformità)</em>: questa è una misura di uniformità locale ed è l’opposto dell’entropia. Alti valori di ASM si verificano quando i pixel nella finestra mobile sono molto simili. Nota: la radice quadrata del’ASM è talvolta usata come misura di consistenza, e si chiama energia.</p></li>
<li><p><em>Inverse Moment Difference (IDM, chiamato anche omogeneità)</em>: tale misura è legata inversamente alla misura di contrasto. Si tratta di una misura diretta dell’omogeneità locale di un’immagine digitale. Valori bassi sono associati a bassa omogeneità e viceversa.</p></li>
<li><p><em>Contrasto (CON)</em>: questa misura analizza il contrasto dell’immagine (localmente variazioni a livello di grigio), come la dipendenza lineare dei livelli di grigio dei pixel vicini (somiglianza). Tipicamente alto quando la scala della trama locale è maggiore della distanza.</p></li>
<li><p><em>Correlazione (COR)</em>: questa misura analizza la dipendenza lineare dei livelli di grigio di pixel adiacenti. Tipicamente alto quando la scala della trama locale è maggiore della distanza.</p></li>
<li><p><em>Misure di informazione di correlazione (MOC)</em>.</p></li>
<li><p><em>Coefficiente di correlazione massimo (MC)</em>.</p></li>
</ul>
</div></blockquote>
<p><strong>Dimensione della finestra mobile</strong>: dimensione della finestra mobile su cui sono calcolate le feature di tessitura.</p>
</div>
<div class="section" id="output">
<h4>Output<a class="headerlink" href="#output" title="Permalink to this headline">¶</a></h4>
<p><strong>Risultato</strong>: inserire il percorso e il nome del file di output.</p>
</div>
</div>
<span id="document-tools/feature_geometriche"></span><div class="section" id="feature-geometriche">
<h3>Feature geometriche<a class="headerlink" href="#feature-geometriche" title="Permalink to this headline">¶</a></h3>
<p>Il modulo effettua l’estrazione di feature geometriche da un’immagine raster. Il processo di estrazione delle feature geometriche avviene su ciascuna banda dell’immagine analizzata, all’interno di un intervallo (definito dall’utente) di segmentazione delle immagini.
Per ogni banda e per ogni livello di smoothing, è eseguita una segmentazione (vedi modulo segmentazione) che tiene conto sia delle informazioni spettrali sia della geometria dei singoli segmenti presi in considerazione durante il processo di region growing.
Il risultato finale di questo processo è una serie (scala) di immagini accatastate per ogni banda in un unico file di output.
Nota che questo modulo è stato ottimizzato per utilizzare immagini multispettrali (4 bande).</p>
<p>Per maggiori informazioni si veda la documentazione del comando di GRASS GIS utilizzato <a class="reference external" href="http://grass.osgeo.org/grass70/manuals/i.segment.html">i.segment</a></p>
<div class="section" id="input">
<h4>Input<a class="headerlink" href="#input" title="Permalink to this headline">¶</a></h4>
<p><strong>Dati di input</strong>: nella finestra compaiono i raster attualmente aperti in QGIS. Selezionare il raster su cui eseguire l’estrazione delle feature geometriche.</p>
<p><strong>Selezionare le bande da utilizzae cliccandoci sopra</strong>: selezionare le bande dell’immagine su cui effettuare la segmentazione.</p>
</div>
<div class="section" id="parametri">
<h4>Parametri<a class="headerlink" href="#parametri" title="Permalink to this headline">¶</a></h4>
<p><strong>Seleziona il threshold minimo</strong>: questo valore definisce il threshold minimo da cui iniziare il processo di estrazione delle feature geometriche. Tale valore esprime il threshold minimo della segmentazione dell’immagine.</p>
<p><strong>Seleziona il threshold massimo</strong>: questo valore definisce il threshold massimo da cui iniziare il processo di estrazione delle feature geometriche. Tale valore esprime il threshold massimo della segmentazione dell’immagine.</p>
<p><strong>Seleziona il valore incrementale del threshold</strong>: questo valore definisce di quanto incrementare il valore di segmentazione all’interno di ciascuna scala. Da questo valore dipente il numero di feature che verrà estratto per ogni banda dell’immagine.</p>
<p><strong>Inserire il valore di memoria da utilizzare in MB</strong>: esprime il valore in MB di RAM da utilizzare per il processo in corso.</p>
</div>
<div class="section" id="output">
<h4>Output<a class="headerlink" href="#output" title="Permalink to this headline">¶</a></h4>
<p><strong>Risultato</strong>: inserire il percorso e il nome del file di output.</p>
</div>
</div>
<span id="document-tools/indici_di_vegetazione"></span><div class="section" id="indici-di-vegetazione">
<h3>Indici di vegetazione<a class="headerlink" href="#indici-di-vegetazione" title="Permalink to this headline">¶</a></h3>
<p>Questo modulo estrae da un’immagine multibanda raster i più utilizzati indici di vegetazione presenti in letteratura. Tali indici possono essere utilizzati poi come input nella fase di classificazione o di stima. La maggioranza degli indici é stat sviluppata per immagini satellitari, quindi se ne consiglia l’uso con immagini acquisite da satellite. Si può usare comunque anche con dati da aereo.</p>
<p>Per maggiori informazioni si veda la documentazione del comando di GRASS GIS utilizzato <a class="reference external" href="http://grass.osgeo.org/grass70/manuals/i.vi.html">i.vi</a></p>
<div class="section" id="input">
<h4>Input<a class="headerlink" href="#input" title="Permalink to this headline">¶</a></h4>
<p><strong>Dati di input</strong>: nella finestra compaiono i raster attualmente aperti in QGIS. Selezionare il raster multibanda da utilizzare.</p>
<p><strong>Selezionare la banda per il canale rosso</strong>: tra le bande disponibili selezionare quella corrispondente al canale spettrale del rosso.</p>
<p><strong>Selezionare la banda per il canale verde</strong>: tra le bande disponibili selezionare quella corrispondente al canale spettrale del verde.</p>
<p><strong>Selezionare la banda per il canale blu</strong>: tra le bande disponibili selezionare quella corrispondente al canale spettrale del blu.</p>
<p><strong>Selezionare la banda per il canale infrarosso</strong>: tra le bande disponibili selezionare quella corrispondente al canale spettrale dell’infrarosso.</p>
</div>
<div class="section" id="parametri">
<h4>Parametri<a class="headerlink" href="#parametri" title="Permalink to this headline">¶</a></h4>
<p><strong>Seleziona l’indice di vegetazione</strong>: selezionare l’indice di vegetazione da calcolare.</p>
<blockquote>
<div><ul>
<li><p><em>arvi</em>:  Atmospheric Resistant Vegetation Index. L’indice ARVI è un indice resistente agli effetti atmosferici (in confronto all’NDVI) ed è realizzato mediante un processo di autocorrezione per l’effetto atmosferico nel canale del rosso, utilizzando la differenza di luminosità tra il canale del blu e il canale rosso. Si calcola nel modo seguente:</p>
<blockquote>
<div><p>ARVI = [infrarosso - (2.0 * rosso - blu)] / [infrarosso + (2.0 * rosso - blu)]</p>
</div></blockquote>
</li>
<li><p><em>dvi</em>: Difference Vegetation Index. Si calcola nel modo seguente:</p>
<blockquote>
<div><p>DVI = (infrarosso - rosso)</p>
</div></blockquote>
</li>
<li><p><em>evi</em>: Enhanced Vegetation Index. L’indice EVI è un indice ottimizzato progettato per evidenziare la vegetazione con una migliore sensibilità in regioni ad alta biomassa e migliorando il controllo della vegetazione attraverso un disaccoppiamento del segnale di background della canopy e una riduzione dell’influenza dell’atmosfera. Si calcola nel modo seguente:</p>
<blockquote>
<div><p>EVI = 2.5 * (infrarosso - rosso) / (infrarosso + 6.0 * rosso - 7.5 * blu + 1.0)</p>
</div></blockquote>
</li>
<li><p><em>evi2</em>: Enhanced Vegetation Index 2. Indice EVI a 2 bande senza la banda blu. Fornisce valori molto simili all’EVI a 3 bande quando gli effetti atmosferici sono insignificanti e la qualità dei dati è buona. Si calcola nel modo seguente:</p>
<blockquote>
<div><p>EVI2 = 2.5 * (infrarosso - rosso) / (infrarosso + 2.4 * rosso + 1.0)</p>
</div></blockquote>
</li>
<li><p><em>gari</em>: Green Atmospherically Resistant Vegetation Index. Si calcola nel modo seguente:</p>
<blockquote>
<div><p>GARI = (infrarosso - (verde - (blu - rosso))) / (infrarosso + (verde - (blu - rosso)))</p>
</div></blockquote>
</li>
<li><p><em>gemi</em>: Global Environmental Monitoring Index. Si calcola nel modo seguente:</p>
<blockquote>
<div><p>GEMI = (((2 * ((infrarosso * infrarosso) - (rosso * rosso)) + 1.5 * infrarosso + 0.5 * rosso) / (infrarosso + rosso + 0.5)) * (1 - 0.25 * (2 * ((infrarosso * infrarosso) - (rosso * rosso)) + 1.5 * infrarosso + 0.5 * rosso) / (infrarosso + rosso + 0.5))) - ((rosso - 0.125) / (1 - rosso))</p>
</div></blockquote>
</li>
<li><p><em>ipvi</em>: Infrared Percentage Vegetation Index. Si calcola nel modo seguente:</p>
<blockquote>
<div><p>IPVI = infrarosso / (rosso + infrarosso)</p>
</div></blockquote>
</li>
<li><p><em>ndvi</em>: Normalized Difference Vegetation Index. Si calcola nel modo seguente:</p>
<blockquote>
<div><p>NDVI = (infrarosso - rosso) / (infrarosso + rosso)</p>
</div></blockquote>
</li>
<li><p><em>savi</em>:  Soil Adjusted Vegetation Index. Si calcola nel modo seguente:</p>
<blockquote>
<div><p>SAVI = ((1.0 + 0.5) * (infrarosso - rosso)) / (infrarosso + rosso +0.5)</p>
</div></blockquote>
</li>
<li><p><em>sr</em>: Simple Ratio. Si calcola nel modo seguente:</p>
<blockquote>
<div><p>SR = (infrarosso / rosso)</p>
</div></blockquote>
</li>
<li><p><em>vari</em>: Visible Atmospherically Resistant Index. L’indice VARI è stato studiato per introdurre un’autocorrezione degli effetti atmosferici. Si calcola nel modo seguente:</p>
<blockquote>
<div><p>VARI = (verde - rosso) / (verde + rosso - blu)</p>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="output">
<h4>Output<a class="headerlink" href="#output" title="Permalink to this headline">¶</a></h4>
<p><strong>Risultato</strong>: inserire il percorso e il nome del file di output.</p>
</div>
</div>
</div>
</div>
<span id="document-tools/toc_sel_feat_var"></span><div class="section" id="selezione-feature-variabili">
<h2>Selezione feature/variabili<a class="headerlink" href="#selezione-feature-variabili" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<span id="document-tools/selezione_feature_per_classificazione"></span><div class="section" id="selezione-feature-per-classificazione">
<h3>Selezione feature per classificazione<a class="headerlink" href="#selezione-feature-per-classificazione" title="Permalink to this headline">¶</a></h3>
<p>Il modulo esegue la selezione delle feature per la classificazione. La selezione verrà effettuata utilizzando l’algoritmo Sequential Forward Floating Selection (SFFS) e la distanza di Jeffries-Matusita. In output vi saranno 2 file di testo: il primo con un riassunto generale della selezione, il secondo con l’indicazione delle feature da selezionare (per i moduli di classificazione supervisionata).
La distanza di Jeffries-Matusita satura ad un valore pari a radice di 2, quindi il numero ottimale di feature si avrà quando la distanza è uguale a radice di 2. La selezione si ferma automaticamente quando questo accade. Per maggiori informazioni vedi la funzione ‘varSelSFFS’ in <a class="reference external" href="https://cran.r-project.org/web/packages/varSel/varSel.pdf">https://cran.r-project.org/web/packages/varSel/varSel.pdf</a></p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Ogni classe deve avere un numero di pixel superiore al numero totale di bande. Se questo vincolo non è soddisfatto la selezione si blocca in anticipo rispetto al valore ottimale a causa della non invertibilità della matrice di covarianza della classe il cui numero di campioni è limitato. Il modulo da comunque in output la selezione con un numero di bande non ottimale.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Se una banda del file di input contiene valori dei pixel tutti uguali è probabile che la selezione si blocchi alla prima iterazione. Si consiglia di verificare quindi i valori delle bande, e semmai rimuovere le bande corrotte, per evitare questo problema.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Questo modulo non prende in considerazione l’estensione di QGIS e/o una maschera</p>
</div>
<div class="section" id="input">
<h4>Input<a class="headerlink" href="#input" title="Permalink to this headline">¶</a></h4>
<p><strong>Dati di input vettoriale</strong>: selezionare il file di input vettoriale contente le aree di training.</p>
<p><strong>Seleziona la colonna con l’indicazione della classe</strong>: selezionare la colonna con l’indicazione dei codici delle classi. Vedi sopra i codici delle classi utilizzabili.</p>
<p><strong>Dati di input raster</strong>: selezionare il file raster da cui estrarre i valori dei pixel.</p>
</div>
<div class="section" id="parametri">
<h4>Parametri<a class="headerlink" href="#parametri" title="Permalink to this headline">¶</a></h4>
<p><strong>Selezionare la strategia da utilizzare</strong>:</p>
<blockquote>
<div><ul class="simple">
<li><p><em>minimum</em>: distanza di Jeffries-Matusita minima tra le classi;</p></li>
<li><p><em>mean</em>: distanza di Jeffries-Matusita media tra le classi;</p></li>
</ul>
</div></blockquote>
<p><strong>Selezionare numero variabili</strong>: numero di features da selezionare.</p>
</div>
<div class="section" id="output">
<h4>Output<a class="headerlink" href="#output" title="Permalink to this headline">¶</a></h4>
<p><strong>Risultato</strong>: inserire il percorso e il nome del file di output. Il file di output è un file .txt contenete una lista con le distanze JM delle singole bande, una matrice con set delle features selezionate e un vettore contenente le distanze delle feature.</p>
<p><strong>Output features</strong>: inserire il percorso e il nome del file di output. Il file di output è un file .txt contenete la lista delle features selezionate (utilizzabile per i moduli di classificazione)</p>
</div>
</div>
<span id="document-tools/selezione_variabili_per_la_stima"></span><div class="section" id="selezione-variabili-per-la-stima">
<h3>Selezione variabili per la stima<a class="headerlink" href="#selezione-variabili-per-la-stima" title="Permalink to this headline">¶</a></h3>
<p>Il modulo esegue la selezione delle variabili per la stima. La selezione viene effettuata costruendo un modello di regressione da un set di variabili predittori candidati inserendo e rimuovendo i predittori in base al p-value, con approccio stepwise fino a che non ci sono più variabili da inserire o rimuovere. Il valore di p-value per l’inserimento nel modello  di regressione è 0,05. Per altre informazioni vedere in <a class="reference external" href="https://www.rdocumentation.org/packages/olsrr/versions/0.5.3/topics/ols_step_both_p">https://www.rdocumentation.org/packages/olsrr/versions/0.5.3/topics/ols_step_both_p</a></p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Questo modulo non prende in considerazione l’estensione di QGIS e/o una maschera</p>
</div>
<div class="section" id="input">
<h4>Input<a class="headerlink" href="#input" title="Permalink to this headline">¶</a></h4>
<p><strong>Dati di input vettoriale di training</strong>: selezionare il file di input vettoriale contente le aree di training.</p>
<p><strong>Seleziona la colonna con l’indicazione del parametro da stimare</strong>: selezionare la colonna con l’indicazione del target.</p>
<p><strong>Colonna da non considerare nella selezione</strong>: selezionare quale colonna non si vuole considerare nella selezione delle variabili.</p>
</div>
<div class="section" id="output">
<h4>Output<a class="headerlink" href="#output" title="Permalink to this headline">¶</a></h4>
<p><strong>Risultato</strong>: inserire il percorso e il nome del file di output. Il file di output è un file .txt contenete le informazioni statistiche delle variabili selezionate.</p>
<p><strong>Variabili significative</strong>: inserire il percorso e il nome del file di output. Il file di output è un file .txt contenete i nomi delle variabili significative selezionate. Questo file .txt potrà essere utilizzato nei moduli ‘Stimatore lineare’ o ‘Support Vector Regression’.</p>
</div>
</div>
</div>
</div>
<span id="document-tools/toc_classi"></span><div class="section" id="classificazione-supervisionata">
<h2>Classificazione supervisionata<a class="headerlink" href="#classificazione-supervisionata" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<span id="document-tools/support_vector_machines"></span><div class="section" id="support-vector-machines">
<h3>Support Vector Machines<a class="headerlink" href="#support-vector-machines" title="Permalink to this headline">¶</a></h3>
<p>Il modulo effettua la classificazione di immagini o vettori usando l’algoritmo di classificazione supervisionata non-parametrico Support Vector Machine (SVM). L’algoritmo SVM si basa sul principio che lo spazio delle feature di partenza può essere trasformato in uno spazio a più alta dimensionalità in cui le classi sono linearmente separabili. La trasformazione è effettuata utilizzando una funzione kernel di tipo gaussiano Radial Basis Function.
Gli input al classificatore sono un file vettoriale contente una colonna con l’indicazione della classe in formato numerico (1,2,…,N) e un immagine raster da classificare.
L’utente potrà anche inserire un vettoriale da usare nella fase di validazione (la colonna con le classi deve avere lo stesso nome di quella del vettoriale di training).</p>
<div class="section" id="input">
<h4>Input<a class="headerlink" href="#input" title="Permalink to this headline">¶</a></h4>
<p><strong>File raster</strong>: immagine raster da classificare.</p>
<p><strong>Training aree</strong>: file vettoriale contente le aree di training e l’indicazione delle classi.</p>
<p><strong>Seleziona la colonna con codice classe</strong>: selezionare tra le colonne del file vettoriale quella che indica le classi.</p>
<p><strong>Aree di validazione</strong> (opzionale): file vettoriale contente le aree di validazione e l’indicazione delle classi (la colonna con le classi deve avere lo stesso nome di quella del vettoriale di training). Se non si hanno aree di validazione selezionare nuovamente Training aree.</p>
</div>
<div class="section" id="parametri">
<h4>Parametri<a class="headerlink" href="#parametri" title="Permalink to this headline">¶</a></h4>
<p><strong>Elenco features</strong> (opzionale): digitare manualmente il numero identificativo delle features da utilizzare. Ciascun numero deve essere separato da uno spazio. Esempio: 30 52 16 9 6.</p>
<p><strong>File features</strong> (opzionale): selezionare il file .txt ottenuto mediante il modulo di ‘Selezione feature per classificazione’ alla voce “Output features”.</p>
<p><strong>Creazione mappa</strong>: se la casella è spuntata verrà generata la mappa in formato ‘.tif’.</p>
<p><strong>Valore C</strong> (opzionale): parametro di regolarizzazione.</p>
<p><strong>Valore di sigma</strong> (opzionale): parametro del kernel RBF.</p>
<p><strong>Numero fold cross validation</strong> (opzionale): inserire il numero di subset in cui verrà diviso il training set nella cross validation. Deve essere maggiore o uguale a 2. Dato N il numero di fold, il classificatore a rotazione verrà allenato con N-1 subsets e validato sul subset rimanente. L’accuratezza finale sarà la media delle N accuratezze.</p>
</div>
<div class="section" id="output">
<h4>Output<a class="headerlink" href="#output" title="Permalink to this headline">¶</a></h4>
<p><strong>Risultato</strong>: inserire il percorso e il nome del file di output in formato “.tif”.</p>
<p><strong>Output info modello</strong>: inserire il percorso di un file .txt per le informazioni del modello di classificazione.</p>
<p><strong>Output Metriche accuratezza</strong>: inserire il percorso di un file .txt per le metriche di accuratezza.</p>
</div>
</div>
<span id="document-tools/minima_distanza"></span><div class="section" id="minima-distanza">
<h3>Minima distanza<a class="headerlink" href="#minima-distanza" title="Permalink to this headline">¶</a></h3>
<p>Il modulo effettua la classificazione di immagini usando l’algoritmo di classificazione supervisionata non-parametrico Minima Distanza. L’algoritmo partendo dai dati di training definisce il centroide delle classi nello spazio delle feature ed assegna ad ogni pixel dell’immagine la classe corrispondente al centroide più vicino nello spazio delle feature.
Gli input al classificatore sono un file vettoriale contente una colonna con l’indicazione della classe in formato numerico (1,2,…,N) e un immagine raster da classificare.
L’utente potrà anche inserire un vettoraile da usare nella fase di validazione (la colonna con le classi deve avere lo stesso nome di quella del vettoriale di training).</p>
<div class="section" id="input">
<h4>Input<a class="headerlink" href="#input" title="Permalink to this headline">¶</a></h4>
<p><strong>File raster</strong>: immagine raster da classificare.</p>
<p><strong>Training aree</strong>: file vettoriale contente le aree di training e l’indicazione delle classi.</p>
<p><strong>Seleziona la colonna con codice classe</strong>: selezionare tra le colonne del file vettoriale quella che indica le classi.</p>
<p><strong>Aree di validazione</strong> (opzionale): file vettoriale contente le aree di validazione e l’indicazione delle classi (la colonna con le classi deve avere lo stesso nome di quella del vettoriale di training). Se non si hanno aree di validazione selezionare nuovamente Training aree.</p>
</div>
<div class="section" id="parametri">
<h4>Parametri<a class="headerlink" href="#parametri" title="Permalink to this headline">¶</a></h4>
<p><strong>Elenco features</strong> (opzionale): digitare manualmente il numero identificativo delle features da utilizzare. Ciascun numero deve essere separato da uno spazio. Esempio: 30 52 16 9 6.</p>
<p><strong>File features</strong> (opzionale): selezionare il file .txt ottenuto mediante il modulo di ‘Selezione feature per classificazione’ alla voce “Output features”.</p>
<p><strong>Creazione mappa</strong>: se la casella è spuntata verrà generata la mappa in formato ‘.tif’.</p>
<p><strong>Numero di neighbors</strong> (opzionale): numero di pixel di training vicini al pixel da classificare da considerare per la classificazione.</p>
<p><strong>Numero fold cross validation</strong> (opzionale): inserire il numero di subset in cui verrà diviso il training set nella cross validation. Deve essere maggiore o uguale a 2. Dato N il numero di fold, il classificatore a rotazione verrà allenato con N-1 subsets e validato sul subset rimanente. L’accuratezza finale sarà la media delle N accuratezze.</p>
</div>
<div class="section" id="output">
<h4>Output<a class="headerlink" href="#output" title="Permalink to this headline">¶</a></h4>
<p><strong>Risultato</strong>: inserire il percorso e il nome del file di output in formato “.tif”.</p>
<p><strong>Output info modello</strong>: inserire il percorso di un file .txt per le informazioni del modello di classificazione.</p>
<p><strong>Output Metriche accuratezza</strong>: inserire il percorso di un file .txt per le metriche di accuratezza.</p>
</div>
</div>
<span id="document-tools/massima_verosimiglianza"></span><div class="section" id="massima-verosimiglianza">
<h3>Massima verosimiglianza<a class="headerlink" href="#massima-verosimiglianza" title="Permalink to this headline">¶</a></h3>
<p>Il modulo effettua la classificazione di immagini o vettori usando l’algoritmo di classificazione supervisionata Massima Verosimiglianza. Il classificatore a massima verosimilglianza é un classificatore parametrico supervisionato che assume una distribuzione gaussiana dei valori dei pixel all’interno di una classe. La classificazione avverrà in tre passaggi: 1) partendo dalle aree di training il classificatore stima la media e la varianza di ogni classe.  Nel caso di dati multidimensionali si avrà un vettore di medie 1xN (con N = numero di bande) e una matrice di covarainza (NxN) per ogni classe.; ii) una funzione di tipo gaussiano viene definita per ogni classe partendo dalle medie e dalle varianze stimate al passaggio precedente; e iii) per ogni pixel dell’immagine da classificare si ottiene un valore della funzione gaussiana di ogni classe e si sceglie la classe che fornisce il valore più alto.
Gli input al classificatore sono un file vettoriale contente una colonna con l’indicazione della classe in formato numerico (1,2,…,N) e un immagine raster da classificare.
L’utente potrà anche inserire un vettoraile da usare nella fase di validazione (la colonna con le classi deve avere lo stesso nome di quella del vettoriale di training).</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Ogni classe deve avere un numero di pixel superiore al numero totale di feature. Se questo vincolo non è soddisfatto il classificatore si blocca a acusa della non invertibilità della matrice di covarianza della classe il cui numero di campioni è limitato. Questo problema si può evitare riducendo il numero di feature o aumentando il numero di campioni.</p>
</div>
<div class="section" id="input">
<h4>Input<a class="headerlink" href="#input" title="Permalink to this headline">¶</a></h4>
<p><strong>File raster</strong>: immagine raster da classificare.</p>
<p><strong>Training aree</strong>: file vettoriale contente le aree di training e l’indicazione delle classi.</p>
<p><strong>Seleziona la colonna con codice classe</strong>: selezionare tra le colonne del file vettoriale quella che indica le classi.</p>
<p><strong>Aree di validazione</strong> (opzionale): file vettoriale contente le aree di validazione e l’indicazione delle classi (la colonna con le classi deve avere lo stesso nome di quella del vettoriale di training). Se non si hanno aree di validazione selezionare nuovamente Training aree.</p>
</div>
<div class="section" id="parametri">
<h4>Parametri<a class="headerlink" href="#parametri" title="Permalink to this headline">¶</a></h4>
<p><strong>Elenco features</strong> (opzionale): digitare manualmente il numero identificativo delle features da utilizzare. Ciascun numero deve essere separato da uno spazio. Esempio: 30 52 16 9 6.</p>
<p><strong>File features</strong> (opzionale): selezionare il file .txt ottenuto mediante il modulo di ‘Selezione feature per classificazione’ alla voce “Output features”.</p>
<p><strong>Creazione mappa</strong>: se la casella è spuntata verrà generata la mappa in formato ‘.tif’.</p>
<p><strong>Numero fold cross validation</strong> (opzionale): inserire il numero di subset in cui verrà diviso il training set nella cross validation. Deve essere maggiore o uguale a 2. Dato N il numero di fold, il classificatore a rotazione verrà allenato con N-1 subsets e validato sul subset rimanente. L’accuratezza finale sarà la media delle N accuratezze.</p>
</div>
<div class="section" id="output">
<h4>Output<a class="headerlink" href="#output" title="Permalink to this headline">¶</a></h4>
<p><strong>Risultato</strong>: inserire il percorso e il nome del file di output in formato “.tif”.</p>
<p><strong>Output info modello</strong>: inserire il percorso di un file .txt per le informazioni del modello di classificazione.</p>
<p><strong>Output Metriche accuratezza</strong>: inserire il percorso di un file .txt per le metriche di accuratezza.</p>
</div>
</div>
<span id="document-tools/spectral_angle_mapper"></span><div class="section" id="spectral-angle-mapper">
<h3>Spectral Angle Mapper<a class="headerlink" href="#spectral-angle-mapper" title="Permalink to this headline">¶</a></h3>
<p>Il modulo esegue la classificazione di immagini utilizzando l’algoritmo Spectral Angle Mapper (SAM). SAM è un classificatore spettrale che utilizza un angolo n-dimensionale per abbinare i pixel dell’immagine a degli spettri di riferimento. L’algoritmo determina la somiglianza spettrale fra due spettri calcolando l’angolo tra gli spettri e trattandoli come vettori in uno spazio con dimensionalità pari al numero di banda. Questa tecnica , se utilizzata su dati di riflettanza calibrati, è relativamente insensibile ad effetti di illuminazione e albedo.</p>
<div class="section" id="input">
<h4>Input<a class="headerlink" href="#input" title="Permalink to this headline">¶</a></h4>
<p><strong>Dati di input</strong>: immagine raster da classificare.</p>
<p><strong>Seleziona le bande da utilizzare cliccandoci sopra</strong> (opzionale): selezionare le bande da utilizzare. Se non si seleziona nulla vengono usate tutte le bande.</p>
</div>
<div class="section" id="parametri">
<h4>Parametri<a class="headerlink" href="#parametri" title="Permalink to this headline">¶</a></h4>
<p><strong>File di selezione delle matrici</strong>: file contenete le matrici delle firme spettrali.</p>
</div>
<div class="section" id="output">
<h4>Output<a class="headerlink" href="#output" title="Permalink to this headline">¶</a></h4>
<p><strong>Risultato</strong>: inserire il percorso e il nome del file di output.</p>
</div>
</div>
</div>
</div>
<span id="document-tools/toc_post_class"></span><div class="section" id="post-classificazione">
<h2>Post-classificazione<a class="headerlink" href="#post-classificazione" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<span id="document-tools/attribuzione_modifica_classi_tematiche"></span><div class="section" id="attribuzione-modifica-classi-tematiche">
<h3>Attribuzione/modifica classi tematiche<a class="headerlink" href="#attribuzione-modifica-classi-tematiche" title="Permalink to this headline">¶</a></h3>
<p>Il modulo permette di modificare un mappa di classificazione aggregando le classi manualmente.
Questo modulo va usato nella fase di post-classificazione, per esempio per passare da una mappa di dettaglio delle specie forestali ad una meno dettagliata contenente solo le classi “conifere” e “latifoglie”.
Può anche essere usato per aggregare i valori del CHM in classi di altezza.</p>
<p>Per maggiori informazioni si veda la documentazione del comando di GRASS GIS utilizzato <a class="reference external" href="http://grass.osgeo.org/grass70/manuals/r.reclass.html">r.reclass</a></p>
<div class="section" id="input">
<h4>Input<a class="headerlink" href="#input" title="Permalink to this headline">¶</a></h4>
<p><strong>Dati di input</strong>: selezionare la mappa classificata da modificare.</p>
</div>
<div class="section" id="parametri">
<h4>Parametri<a class="headerlink" href="#parametri" title="Permalink to this headline">¶</a></h4>
<p><strong>Regole per la classificazione manuale</strong>: nella finestra vanno inserite le regole da utilizzare per la riclassificazione dell’immagine. Ogni riga deve essere strutturata in questo modo:</p>
<blockquote>
<div><p><em>input_categories=output_category [label]</em></p>
<p><em>input_categories</em> é una lista numerica di una o più classi;  <em>output_category</em> deve essere una classe; <em>[label]</em> é la nuova etichetta della nuova classe.</p>
<p>Esempio:</p>
<blockquote>
<div><img alt="_images/attribuzione_modifica_classi_tematiche_esempio_input_1.png" src="_images/attribuzione_modifica_classi_tematiche_esempio_input_1.png" />
<p>In questo caso le classi 1, 2 e 3 sono trasformate nella classe 1 che viene rinominata “conifere”, le classi 4 e 5 sono trasformate
nella classe 2 rinominata “latifoglie”, e tutte le altre classi vengono lasciate inalterate ” * = * “.</p>
</div></blockquote>
</div></blockquote>
</div>
<div class="section" id="output">
<h4>Output<a class="headerlink" href="#output" title="Permalink to this headline">¶</a></h4>
<p><strong>Risultato</strong>: inserire il percorso e il nome del file di output.</p>
</div>
</div>
<span id="document-tools/filtro_maggioranza"></span><div class="section" id="filtro-maggioranza">
<h3>Filtro maggioranza<a class="headerlink" href="#filtro-maggioranza" title="Permalink to this headline">¶</a></h3>
<p>Il modulo effettua un filtraggio tramite la regola di maggioranza delle mappe di classificazione. Il modulo va utilizzato per rimuovere i pixel di una classe isolati tra pixel di un’altra classe, o piccole aree classificate in una classe ma circondate da altre classi. Il filtro di maggioranza può essere effettuato in due diverse modalità: <em>vicinanza</em>, e <em>aree</em>.</p>
<p>Esempio di funzionamento del metodo <em>vicinanza</em>:</p>
<blockquote>
<div><p>Supponiamo di avere un’immagine classificata di questo tipo:</p>
<blockquote>
<div><p>1       1       1       1       1</p>
<p>1       1       1       1       1</p>
<p>1       1       10      1       1</p>
<p>1       1       1       1       1</p>
<p>1       1       1       1       1</p>
</div></blockquote>
<p>Nell’immagine abbiamo 24 pixel della classe 1 e un solo pixel isolato della classe 10. Scegliendo un neighborhood di dimensione 3x3 si avrà in output:</p>
<blockquote>
<div><p>1       1       1       1       1</p>
<p>1       1       1       1       1</p>
<p>1       1       1       1       1</p>
<p>1       1       1       1       1</p>
<p>1       1       1       1       1</p>
</div></blockquote>
<p>Come si può vedere il pixel isolato della classe 10 é stato rimosso e sostituito dal valore maggioritario tra quelli del suo intorno 3x3.</p>
</div></blockquote>
<p>Per maggiori informazioni si veda la documentazione dei comandi di GRASS GIS utilizzati: per il metodo <em>vicinanza</em> <a class="reference external" href="http://grass.osgeo.org/grass70/manuals/r.neighbors.html">r.neighbors</a> per <em>area</em>
<a class="reference external" href="http://grass.osgeo.org/grass70/manuals/r.reclass.area.html">r.reclass.area</a></p>
<div class="section" id="input">
<h4>Input<a class="headerlink" href="#input" title="Permalink to this headline">¶</a></h4>
<p><strong>Dati di input</strong>: selezionare il raster da utilizzare tra quelli attualmente aperti in QGIS.</p>
<p><strong>Selezione bande</strong>: selezionare le bande che si vogliono utilizzate; se non si seleziona nulla vengono utilizzate tutte le bande.</p>
</div>
<div class="section" id="parametri">
<h4>Parametri<a class="headerlink" href="#parametri" title="Permalink to this headline">¶</a></h4>
<p><strong>Selezione il metodo da utilizzare</strong>: si possono scegliere diversi metodi per effettuare il filtro di maggioranza</p>
<blockquote>
<div><ul class="simple">
<li><p><em>vicinanza</em>: il valore del pixel centrale della finestra di dimensioni impostata dall’utente viene sostituito con il valore più frequente dei pixel di quell’intorno;</p></li>
<li><p><em>area</em>: in questo modo tutti i gruppi di pixel di area inferiore ad una certa soglia impostata dall’utente vengono uniti al gruppo di pixel più vicino di dimensioni superiori alla soglia.</p></li>
</ul>
</div></blockquote>
<p><strong>Dimensione del neighborhood</strong> (opzionale): valore numerico dispari indicativo della dimensione della finestra mobile del filtro. Il valore deve essere dispari. Attivo solo se il metodo selezionato è “vicinanza”. Valori alti del neighborhood comportano una maggiore “smussatura” dell’immagine classificata.</p>
<p><strong>Inserire la dimensione minima da tenere in considerazione (in ettari)</strong> (opzionale): valore numerico indicativo della dimensione minima in ettari da tenere in considerazione nel filtraggio. Attivo solo se il metodo selezionato è “area”.</p>
</div>
<div class="section" id="output">
<h4>Output<a class="headerlink" href="#output" title="Permalink to this headline">¶</a></h4>
<p><strong>Risultato</strong>: inserire il percorso e il nome del file di output.</p>
</div>
</div>
<span id="document-tools/metriche_di_accuratezza"></span><div class="section" id="metriche-di-accuratezza">
<h3>Metriche di accuratezza<a class="headerlink" href="#metriche-di-accuratezza" title="Permalink to this headline">¶</a></h3>
<p>Il modulo serve per calcolare una serie di metriche di accuratezza su di un’immagine classificata. In particulare il modulo calcola la matrice di confusione dell’immagine di input rispetto all’immagine/vettore di riferimento. Viene calcolata inoltre la kappa accuracy (e la sua varianza), l’errore di omissione e commisisone, il numero totale di pixels classificati correttamente, la superficie totale in numero di pixel e percentuale di pixels correttamente classificati.</p>
<p>Per maggiori informazioni si veda la documentazione del comando di GRASS GIS utilizzato <a class="reference external" href="http://grass.osgeo.org/grass70/manuals/r.kappa.html">r.kappa</a></p>
<div class="section" id="input">
<h4>Input<a class="headerlink" href="#input" title="Permalink to this headline">¶</a></h4>
<p><strong>Mappa classificata</strong>: mappa classificata in formato raster.</p>
<p><strong>Input mappa training area (sia raster che vettoriale)</strong>: mappa delle aree di riferimento. Può essere sia in formato raster che vettoriale.</p>
</div>
<div class="section" id="parametri">
<h4>Parametri<a class="headerlink" href="#parametri" title="Permalink to this headline">¶</a></h4>
<p><strong>Seleziona la colonna da considerare per le statistiche</strong>: nel caso l’input sia un vettoriale indicare la colonna contente le classi di riferimento.</p>
</div>
<div class="section" id="output">
<h4>Output<a class="headerlink" href="#output" title="Permalink to this headline">¶</a></h4>
<p><strong>Risultato</strong>: file di testo contenente le metriche di accuratezza.</p>
</div>
</div>
</div>
</div>
<span id="document-tools/toc_stima_parametri"></span><div class="section" id="stima-di-parametri">
<h2>Stima di parametri<a class="headerlink" href="#stima-di-parametri" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<span id="document-tools/stima_volume_con_formule_allometriche"></span><div class="section" id="stima-volume-con-formule-allometriche">
<h3>Stima volume con formule allometriche<a class="headerlink" href="#stima-volume-con-formule-allometriche" title="Permalink to this headline">¶</a></h3>
<p>Il modulo effettua la stima del volume delle singole piante utilizzando le formule allometriche pubblicate in Scrinzi et al. (2010).</p>
<div class="section" id="input">
<h4>Input<a class="headerlink" href="#input" title="Permalink to this headline">¶</a></h4>
<p><strong>Dati di input vettoriale</strong>: file vettoriale contente la posizione degli alberi. Tra gli attributi deve essere presente il diametro, la specie e l’altezza.</p>
<p><strong>Seleziona la colonna con indicazione della specie</strong>: selezionare tra le colonne del file vettoriale quella che indica la specie. La specie deve essere fornita con i seguenti codici:</p>
<blockquote>
<div><ul class="simple">
<li><p><em>ar</em>: abete rosso;</p></li>
<li><p><em>ab</em>: abete bianco;</p></li>
<li><p><em>la</em>: larice;</p></li>
<li><p><em>pn</em>: pino nero;</p></li>
<li><p><em>ps</em>: pino silvestre;</p></li>
<li><p><em>pc</em>: pino cembro;</p></li>
<li><p><em>fa</em>: faggio;</p></li>
</ul>
</div></blockquote>
<p><strong>Seleziona la colonna con indicazione del diametro</strong>: selezionare tra le colonne del file vettoriale quella che indica il diametro.</p>
<p><strong>Seleziona la colonna con indicazione dell’altezza</strong>: selezionare tra le colonne del file vettoriale quella che indica l’altezza.</p>
</div>
<div class="section" id="parametri">
<h4>Parametri<a class="headerlink" href="#parametri" title="Permalink to this headline">¶</a></h4>
</div>
<div class="section" id="output">
<h4>Output<a class="headerlink" href="#output" title="Permalink to this headline">¶</a></h4>
<p><strong>Nome della nuova colonna con il volume</strong>: inserire il nome dell’output. Negli attributi di quest’ultimo sarà presenta una nuova colonna di nome ‘volume’ contenente i risultati dello stimatore.</p>
</div>
</div>
<span id="document-tools/stimatore_lineare"></span><div class="section" id="stimatore-lineare">
<h3>Stimatore lineare<a class="headerlink" href="#stimatore-lineare" title="Permalink to this headline">¶</a></h3>
<p>Il modulo esegue la stima di parametri utilizzando uno stimatore lineare.
Gli input allo stimatore sono un file vettoriale contente una colonna con l’indicazione del target da stimare (es: volume) in formato numerico, e (opzionale) l’indicazione delle variabili (attributi del vettore) da usare nella stima (es: percentili LIDAR, altezza LIDAR media, dimensione della chioma, ecc.). L’utente potrà anche inserire un vettoriale da usare nella fase di validazione o per mappare un’area più ampia (es. vettoriale di una griglia). Se si inserisce un vettoriale di validazione le metriche calcolate saranno: R2, RMSE e MAE.</p>
<p><em>Esempio</em>: stima diametro singoli alberi
Lo shapefile di input (“Dati di input vettoriale”) avrà per esempio una tabella degli attributidi questo tipo:</p>
<blockquote>
<div><blockquote>
<div><img alt="_images/stimatore_lineare_esempio_input.png" src="_images/stimatore_lineare_esempio_input.png" />
</div></blockquote>
<p>Nel caso della stima del diametro di un albero useremo come target la colonna “DBH_cm” e come variabili per esempio l’altezza dell’albero (colonna “Height_m”) e l’area della chioma (colonna “Area”). Le due varaibili andranno selezionate dal menu’ “Colonne delle feature da utilizzare”.</p>
</div></blockquote>
<div class="section" id="input">
<h4>Input<a class="headerlink" href="#input" title="Permalink to this headline">¶</a></h4>
<p><strong>Dati di input vettoriale di training</strong>: file vettoriale contente le aree di training e l’indicazione del parametro da stimare.</p>
<p><strong>Seleziona la colonna con indicazione del parametro da stimare</strong>: selezionare tra le colonne del file vettoriale quella che indica il target da stimare.</p>
<p><strong>File di selezione</strong> (opzionale): inserire il file ottenuto in output dal modulo “Selezione variabili per la stima”. Attivato solo se l’opzione “file” viene scelta nel menu “selezione variabili”.</p>
<p><strong>Vettoriale di validazione</strong> (opzionale): file vettoriale contenente le aree di validazione o di mappatura. I nomi delle colonne del vettoriale devono essere le stesse delle varaibili utilizzate nella creazione del modello.</p>
<p><strong>Seleziona la colonna per la validazione</strong> (opzionale): selezionare tra le colonne del file vettoriale quella che indica il target. Se si effettua la mappatura non ve scelto nulla.</p>
</div>
<div class="section" id="parametri">
<h4>Parametri<a class="headerlink" href="#parametri" title="Permalink to this headline">¶</a></h4>
<p><strong>Inserire il numero di fold della cross-validation</strong> (opzionale): inserire il numero di fold della cross-validation.</p>
<p><strong>Seleziona la trasformazione</strong>: tipologia di trasformazione dei dati. Può essere nessuna, radice quadra e logaritmica.</p>
<p><strong>Selezione variabili</strong>:</p>
<blockquote>
<div><ul class="simple">
<li><p><em>no</em>: nessuna selezione delle variabili. Tutte le variabili verranno utilizzate.</p></li>
<li><p><em>manuale</em>: le variabili vengono selezionate manualmente.</p></li>
<li><p><em>file</em>: le variabili sono scelte in base al file di output del modulo “Selezione variabili per la stima”.</p></li>
</ul>
</div></blockquote>
<p><strong>Colonne delle features da utilizzare</strong> (opzionale): selezionare le varaibili da utilizzare separate da uno spazio. Attivo solo se la selezione varaibili <em>manuale</em> è selezionata.</p>
<p><strong>Nome colonna per i valori della stima</strong>: inserire il nome della colonna del risultato ottenuto con stimatore lineare.</p>
</div>
<div class="section" id="output">
<h4>Output<a class="headerlink" href="#output" title="Permalink to this headline">¶</a></h4>
<p><strong>Risultato</strong>: inserire il percorso e il nome del file di output.</p>
<p><strong>Accuratezza</strong>: inserire il percorso e il nome del file di output .txt, contenente le metriche di accuratezza nel caso si sia inserito il vettoriale di validazione.</p>
</div>
</div>
<span id="document-tools/support_vector_regression"></span><div class="section" id="support-vector-regression">
<h3>Support Vector regression<a class="headerlink" href="#support-vector-regression" title="Permalink to this headline">¶</a></h3>
<p>IIl modulo effettua la classificazione di immagini o vettori usando l’algoritmo di supervisionato non-parametrico Support Vector Regression (SVR). L’algoritmo SVM si basa sul principio che lo spazio delle variabili di partenza può essere trasformato in uno spazio a più alta dimensionalità in cui la stima lineare è possibile. La trasformazione è effettuata utilizzando una funzione kernel.
Gli input allo stimatore sono un file vettoriale contente una colonna con l’indicazione del target da stimare in formato numerico, e (opzionale) l’indicazione delle variabili (attributi del vettore) da usare nella stima. L’utente potrà anche inserire un vettoriale da usare nella fase di validazione o di mappatura di un’area più ampia (es. vettoriale di una griglia). Se si inserisce un vettoriale di validazione le metriche calcolate saranno: R2, RMSE e MAE.</p>
<div class="section" id="input">
<h4>Input<a class="headerlink" href="#input" title="Permalink to this headline">¶</a></h4>
<p><strong>Dati di input vettoriale di training</strong>: file vettoriale contente le aree di training e l’indicazione del parametro da stimare.</p>
<p><strong>Seleziona la colonna con indicazione del parametro da stimare</strong>: selezionare tra le colonne del file vettoriale quella che indica il target da stimare.</p>
<p><strong>File di selezione</strong> (opzionale): inserire il file ottenuto in output dal modulo “Selezione variabili per la stima”. Attivato solo se l’opzione “file” viene scelta nel menu “selezione variabili”.</p>
<p><strong>Vettoriale di validazione</strong> (opzionale): file vettoriale contenente le aree di validazione o di mappatura. I nomi delle colonne del vettoriale devono essere le stesse delle varaibili utilizzate nella creazione del modello.</p>
<p><strong>Seleziona la colonna per la validazione</strong> (opzionale): selezionare tra le colonne del file vettoriale quella che indica il target. Se si effettua la mappatura non ve scelto nulla.</p>
</div>
<div class="section" id="parametri">
<h4>Parametri<a class="headerlink" href="#parametri" title="Permalink to this headline">¶</a></h4>
<p><strong>Inserire il numero di fold della cross-validation</strong> (opzionale): inserire il numero di fold della cross-validation.</p>
<p><strong>Selezionare il kernel da utilizzare</strong>:</p>
<blockquote>
<div><ul class="simple">
<li><p><em>radiale</em>: kernel di tipo gaussiano Radial Basis Function (scelta consigliata).</p></li>
<li><p><em>lineare</em>: kernel di tipo lineare.</p></li>
<li><p><em>polinomiale</em>: kernel polinomiale.</p></li>
</ul>
</div></blockquote>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Si suggerisce di evitare il kernel lineare poichè fa aumentare a dismisura i tempi di elaborazione.</p>
</div>
<p><strong>Inserire il parametro C</strong> (opzionale): parametro di regolarizzazione. Valori suggeriti: numero intero tra 1 e 100.</p>
<p><strong>Inserire il valore di gamma</strong> (opzionale): parametro del kernel radiale.</p>
<p><strong>Inserire il valore del grado del polinomio</strong> (opzionale): parametro del kernel polinomiale.</p>
<p><strong>Inserire il valore di epsilon</strong>: parametro dello stimatore SVR.</p>
<p><strong>Seleziona la trasformazione</strong>: tipologia di trasformazione dei dati. Può essere nessuna, radice quadra e logaritmica.</p>
<p><strong>Selezione variabili</strong>:</p>
<blockquote>
<div><ul class="simple">
<li><p><em>no</em>: nessuna selezione delle variabili. Tutte le variabili verranno utilizzate.</p></li>
<li><p><em>manuale</em>: le variabili vengono selezionate manualmente.</p></li>
<li><p><em>file</em>: le variabili sono scelte in base al file di output del modulo “Selezione variabili per la stima”.</p></li>
</ul>
</div></blockquote>
<p><strong>Colonne delle features da utilizzare</strong> (opzionale): selezionare le varaibili da utilizzare separate da uno spazio. Attivo solo se la selezione varaibili <em>manuale</em> è selezionata.</p>
<p><strong>Nome colonna per i valori della stima</strong>: inserire il nome della colonna del risultato ottenuto con stimatore lineare.</p>
</div>
<div class="section" id="output">
<h4>Output<a class="headerlink" href="#output" title="Permalink to this headline">¶</a></h4>
<p><strong>Risultato</strong>: inserire il percorso e il nome del file di output.</p>
<p><strong>Accuratezza</strong>: inserire il percorso e il nome del file di output .txt, contenente le metriche di accuratezza nel caso si sia inserito il vettoriale di validazione.</p>
</div>
</div>
</div>
</div>
<span id="document-tools/toc_post_stima"></span><div class="section" id="post-elaborazione">
<h2>Post-elaborazione<a class="headerlink" href="#post-elaborazione" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<span id="document-tools/aggregazione_ad_aree"></span><div class="section" id="aggregazione-ad-aree">
<h3>Aggregazione ad aree<a class="headerlink" href="#aggregazione-ad-aree" title="Permalink to this headline">¶</a></h3>
<p>Il modulo prende in input un primo vettoriale relativo a parametri di interesse (ad es. shape file delle chiome) e un secondo vettoriale che delimita le aree di interesse (ad es. shapefile del catasto sull’area di competenza).
Per ogni area del secondo vettoriale vengono calcolate le statistiche di uno o più parametri di interesse (ad es. altezze medie, volume totale, ecc.) memorizzati nel primo file.
Questo modulo e’ utile per aggregare in aree di maggiore dimensioni risultati ottenuti a livello di singoli alberi, o misure puntuali a terra (es. misure di volumi di singoli alberi).
Il file di output e’ uguale al file delle aree di input, in cui viene aggiunta una colonna relativa al prodotto richiesto.</p>
<p>Per maggiori informazioni si veda la documentazione del comando di GRASS GIS utilizzato <a class="reference external" href="http://grass.osgeo.org/grass70/manuals/v.vect.stats.html">v.vect.stats</a></p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Se il primo dato di input da aggregare è poligonale il tempo richiesto per il calcolo è esponenzialmente più lento. Si consiglia di estrarre i centroidi utilizzando lo strumento di QGIS <cite>Vettore -&gt; Strumenti di geometria -&gt; Centroidi del poligono</cite></p>
</div>
<div class="section" id="input">
<h4>Input<a class="headerlink" href="#input" title="Permalink to this headline">¶</a></h4>
<p><strong>Vettoriale di punti</strong>: nella finestra compaiono i file vettoriali attualmente aperti in QGIS.
Selezionare il vettoriale relativo ai parametri di interesse.</p>
<p><strong>Vettoriale di aree su cui aggregare</strong>: nella finestra compaiono i file vettoriali attualmente aperti in QGIS. Selezionare il vettoriale relativo alla suddivisione in aree di interesse.</p>
</div>
<div class="section" id="parametri">
<h4>Parametri<a class="headerlink" href="#parametri" title="Permalink to this headline">¶</a></h4>
<p><strong>Seleziona la colonna da considerare per le statistiche</strong>: seleziona uno o più parametri di interesse memorizzati sul vettoriale di punti o aree e su cui si vogliono calcolare le statistiche.</p>
<p><strong>Metodo statistico di aggregazione</strong>: Seleziona il parametro statistico da considerare sull’area di applicazione. I parametri statistici implementati sono:</p>
<blockquote>
<div><ul class="simple">
<li><p><em>sum</em>: calcola la somma del parametro di interesse sull’area di interesse.</p></li>
<li><p><em>average</em>: calcola la media del parametro di interesse sull’area di interesse.</p></li>
<li><p><em>median</em>: calcola la mediana del parametro di interesse sull’area di interesse.</p></li>
<li><p><em>mode</em>: calcola la moda del parametro di interesse sull’area di interesse.</p></li>
<li><p><em>minimum</em>: calcola il minimo del parametro di interesse sull’area di interesse.</p></li>
<li><p><em>maximum</em>: calcola il massimo del parametro di interesse sull’area di interesse.</p></li>
<li><p><em>range</em>: calcola l’intervallo di valori del parametro di interesse sull’area di interesse.</p></li>
<li><p><em>stddev</em>: calcola la deviazione standard del parametro di interesse sull’area di interesse.</p></li>
<li><p><em>variance</em>: calcola la varianza del parametro di interesse sull’area di interesse.</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="output">
<h4>Output<a class="headerlink" href="#output" title="Permalink to this headline">¶</a></h4>
<p><strong>Risultato</strong>: inserire il percorso e il nome del file di output. Il file di output sara’ uguale al file delle aree di input, in cui viene aggiunta una colonna relativa al prodotto richiesto.</p>
</div>
</div>
<span id="document-tools/statistiche_singolo_raster"></span><div class="section" id="statistiche-su-singolo-raster">
<h3>Statistiche su singolo raster<a class="headerlink" href="#statistiche-su-singolo-raster" title="Permalink to this headline">¶</a></h3>
<p>Il modulo calcola una serie di statistiche sul raster fornito in input dall’utente. Fornisce in uscita un file di testo con le statistiche. Le statistiche calcolate sono:</p>
<blockquote>
<div><ul class="simple">
<li><p><em>n</em>: numero totale di pixels;</p></li>
<li><p><em>null_cells</em>: numero totale di pixels nulli;</p></li>
<li><p><em>cells</em>: numero totale di pixels non nulli;</p></li>
<li><p><em>min</em>: valore minimo dei pixels dell’immagine;</p></li>
<li><p><em>max</em>: valore massimo dei pixels dell’immagine;</p></li>
<li><p><em>range</em>: range dei valori dei pixels dell’immagine;</p></li>
<li><p><em>mean</em>: valore medio dei pixels dell’immagine;</p></li>
<li><p><em>mean_of_abs</em>: valore minimo del valore assoluto dei pixels dell’immagine;</p></li>
<li><p><em>stddev</em>: deviazione standard dei valori dei pixels dell’immagine;</p></li>
<li><p><em>variance</em>: varianza dei valori dei pixels dell’immagine;</p></li>
<li><p><em>coeff_var</em>: coefficiente di variazione dei valori dei pixels dell’immagine;</p></li>
<li><p><em>sum</em>: somma dei valori dei pixels dell’immagine;</p></li>
<li><p><em>first_quartile</em>: primo quartile dei valori dei pixels dell’immagine;</p></li>
<li><p><em>median</em>: mediana dei valori dei pixels dell’immagine;</p></li>
<li><p><em>third_quartile</em>: terzo quartile dei valori dei pixels dell’immagine;</p></li>
<li><p><em>percentile_n</em>: n-esimo percentile dei valori dei pixels dell’immagine;</p></li>
</ul>
</div></blockquote>
<p>Esempio del contenuto del file di testo di output:</p>
<blockquote>
<div><img alt="_images/statistiche_esempio_input_1.png" src="_images/statistiche_esempio_input_1.png" />
</div></blockquote>
<div class="section" id="input">
<h4>Input<a class="headerlink" href="#input" title="Permalink to this headline">¶</a></h4>
<p><strong>Dati di input</strong>: selezionare il raster di input.</p>
<p><strong>Selezionare la banda su cui calcolare le statistiche</strong>: selezionare la banda del raster di input su cui calcolare le statistiche.</p>
</div>
<div class="section" id="parametri">
<h4>Parametri<a class="headerlink" href="#parametri" title="Permalink to this headline">¶</a></h4>
<p><strong>Percentile da calcolare</strong>: percentile da calcolare (da 1 a 99).</p>
</div>
<div class="section" id="output">
<h4>Output<a class="headerlink" href="#output" title="Permalink to this headline">¶</a></h4>
<p><strong>Risultato</strong>: file di testo in cui salvare il risultato. L’estensione .txt va specificata.</p>
</div>
</div>
<span id="document-tools/statistiche_su_due_raster"></span><div class="section" id="statistiche-su-due-raster">
<h3>Statistiche su due raster<a class="headerlink" href="#statistiche-su-due-raster" title="Permalink to this headline">¶</a></h3>
<p>Il modulo calcola una serie di statistiche sul raster fornito in input dall’utente aggregando i risultati in base ad aree fornite in input con un secondo raster. Fornisce in uscita un file di testo con le statistiche. Per ogni area le statistiche calcolate sono:</p>
<blockquote>
<div><ul class="simple">
<li><p><em>n</em>: numero totale di pixels;</p></li>
<li><p><em>min</em>: valore minimo dei pixels dell’immagine;</p></li>
<li><p><em>max</em>: valore massimo dei pixels dell’immagine;</p></li>
<li><p><em>range</em>: range dei valori dei pixels dell’immagine;</p></li>
<li><p><em>mean</em>: valore medio dei pixels dell’immagine;</p></li>
<li><p><em>stddev</em>: deviazione standard dei valori dei pixels dell’immagine;</p></li>
<li><p><em>variance</em>: varianza dei valori dei pixels dell’immagine;</p></li>
<li><p><em>coeff_var</em>: coefficiente di variazione dei valori dei pixels dell’immagine;</p></li>
<li><p><em>sum</em>: somma dei valori dei pixels dell’immagine;</p></li>
<li><p><em>first_quartile</em>: primo quartile dei valori dei pixels dell’immagine;</p></li>
<li><p><em>median</em>: mediana dei valori dei pixels dell’immagine;</p></li>
<li><p><em>third_quartile</em>: terzo quartile dei valori dei pixels dell’immagine;</p></li>
<li><p><em>percentile_n</em>: n-esimo percentile dei valori dei pixels dell’immagine.</p></li>
</ul>
</div></blockquote>
<p>Per maggiori informazioni si veda la documentazione del comando di GRASS GIS utilizzato <a class="reference external" href="http://grass.osgeo.org/grass70/manuals/r.univar.html">r.univar</a></p>
<div class="section" id="input">
<h4>Input<a class="headerlink" href="#input" title="Permalink to this headline">¶</a></h4>
<p><strong>Dati di input</strong>: selezionare il raster di input.</p>
<p><strong>Selezionare la banda su cui calcolare le statistiche</strong>: selezionare la banda del raster di input su cui calcolare le statistiche.</p>
<p><strong>Raster delle aree su cui calcolare le statistiche</strong>: raster delle aree su cui calcolare le statistiche. Deve essere un raster con valori interi (es. mappa di classificazione). Controllare in <em>Proprietà -&gt; Metadati</em>.</p>
<p><strong>Selezionare la banda delle aree da analizzare</strong>: selezionare la banda del raster con le aree su cui calcolare le statistiche.</p>
</div>
<div class="section" id="parametri">
<h4>Parametri<a class="headerlink" href="#parametri" title="Permalink to this headline">¶</a></h4>
<p><strong>Percentile da calcolare</strong>: percentile da calcolare (da 1 a 99).</p>
</div>
<div class="section" id="output">
<h4>Output<a class="headerlink" href="#output" title="Permalink to this headline">¶</a></h4>
<p><strong>Risultato</strong>: file di testo in cui salvare il risultato. L’estensione .txt va specificata.</p>
</div>
</div>
</div>
</div>
<span id="document-tools/toc_struttura"></span><div class="section" id="struttura-bosco">
<h2>Struttura bosco<a class="headerlink" href="#struttura-bosco" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<span id="document-tools/individuazione_alberi"></span><div class="section" id="individuazione-alberi">
<h3>Individuazione alberi<a class="headerlink" href="#individuazione-alberi" title="Permalink to this headline">¶</a></h3>
<p>Il modulo permette di individuare le posizioni degli alberi a partire da un file .las del Canopy Height Model (ottenuto in uscita dal modulo <em>Estrazione CHM</em>). Vi sono due algoritmi di segmentazione selezionabili: Li (<a class="reference external" href="https://www.rdocumentation.org/packages/lidR/versions/3.0.4/topics/li2012">https://www.rdocumentation.org/packages/lidR/versions/3.0.4/topics/li2012</a>) e Dalponte (<a class="reference external" href="https://www.rdocumentation.org/packages/lidR/versions/3.0.2/topics/dalponte2016">https://www.rdocumentation.org/packages/lidR/versions/3.0.2/topics/dalponte2016</a>).
Si otterrà una nuvola di punti con un nuovo attributo “treeID” indipendentemente dall’algoritmo scelto e la posizione delle cime come file vettoriale.</p>
<div class="section" id="input">
<h4>Input<a class="headerlink" href="#input" title="Permalink to this headline">¶</a></h4>
<p><strong>File Las di input</strong>: selezionare il file .las (o .laz).</p>
<p><strong>CHM raster Dalponte</strong> (opzionale): selezionare il file raster del CHM necessario per l’agoritmo di Dalponte.</p>
</div>
<div class="section" id="parametri">
<h4>Parametri<a class="headerlink" href="#parametri" title="Permalink to this headline">¶</a></h4>
<p><strong>Algoritmo segmentazione</strong>: selezionare l’agoritmo di segmentazione.</p>
<p><strong>Inserire altezza minima albero</strong>: inserire l’altezza in metri. Questo è un parametro necessario per entrambi gli algoritmi.</p>
<p><strong>Ampiezza minima finestra Dalponte</strong>: dimensione minima in piexels della finestra mobile usata per identificare i massimi locali. Questo è un parametro necessario per l’algoritmo Dalponte.</p>
<p><strong>Forma finestra Dalponte</strong>: definire la forma della finestra mobile. Questo è un parametro necessario per l’algoritmo Dalponte.</p>
<p><strong>Zu Li</strong>: parametro necessario per l’algoritmo di Li. Si consiglia un valore di 15,0.</p>
<p><strong>Distanza 1 Li</strong>: parametro necessario per l’algoritmo di Li. Si consiglia un valore di 1,5.</p>
<p><strong>Distanza 2 Li</strong>: parametro necessario per l’algoritmo di Li. Si consiglia un valore di 2,0.</p>
<p><strong>Massimo raggio chioma Li</strong>: parametro necessario per l’algoritmo di Li. Si consiglia un valore di 10,0.</p>
</div>
<div class="section" id="output">
<h4>Output<a class="headerlink" href="#output" title="Permalink to this headline">¶</a></h4>
<p><strong>Risultato</strong>: inserire il percorso e il nome dello shapefile di output.</p>
<p><strong>Output Las</strong>: inserire percorso file .las (o .laz) contenente il nuovo attributo “treeID”.</p>
</div>
</div>
<span id="document-tools/delimitazione_chiome"></span><div class="section" id="delimitazione-chiome">
<h3>Delimitazione chiome<a class="headerlink" href="#delimitazione-chiome" title="Permalink to this headline">¶</a></h3>
<p>Il modulo permette di delineare le chiome degli alberi a partire da un file raster del Canopy Height Model (ottenuto in uscita dal modulo <em>Rasterizzazione file LAS</em>). L’algoritmo si basa sulla funzione itcLiDAR consultabile in <a class="reference external" href="https://rdrr.io/cran/itcSegment/man/itcLiDAR.html">https://rdrr.io/cran/itcSegment/man/itcLiDAR.html</a>.</p>
<p>NB: l’algoritmo può essere lento se il file di input è grande.</p>
<div class="section" id="input">
<h4>Input<a class="headerlink" href="#input" title="Permalink to this headline">¶</a></h4>
<p><strong>File CHM raster</strong>: selezionare il file raster del CHM.</p>
</div>
<div class="section" id="parametri">
<h4>Parametri<a class="headerlink" href="#parametri" title="Permalink to this headline">¶</a></h4>
<p><strong>Risoluzione</strong>: risoluzione del raster sul quale viene effettuata la prima segmentazione.</p>
<p><strong>Ampiezza minima finestra</strong>: ampiezza minima (in pixels) della finestra mobile.</p>
<p><strong>Ampiezza massima finestra</strong>: ampiezza massima (in pixels) della finestra mobile. Deve essere maggiore o uguale a ‘Ampiezza minima finestra’.</p>
<p><strong>Soglia crescita chioma</strong>: valore di soglia ‘TRESHCrown’. Deve essere tra 0 e 1.</p>
<p><strong>Soglia crescita albero</strong>: valore di soglia ‘TRESHSeed’. Deve essere tra 0 e 1.</p>
<p><strong>Soglia minima diametro chioma</strong>: soglia minima di diametro dell’abero individuato.</p>
<p><strong>Soglia massima diametro chioma</strong>: soglia massima di diametro dell’abero individuato. Deve essere maggiore di ‘Soglia minima diametro chioma’.</p>
<p><strong>Altezza minima albero</strong>: altezza minima dell’albero.</p>
</div>
<div class="section" id="output">
<h4>Output<a class="headerlink" href="#output" title="Permalink to this headline">¶</a></h4>
<p><strong>Output chiome</strong>: inserire il percorso e il nome dello shapefile di output contenete le chiome delineate.</p>
<p><strong>Output cime chiome</strong>: inserire il percorso e il nome dello shapefile di output delle cime delle chiome.</p>
</div>
</div>
<span id="document-tools/struttura_bosco"></span><div class="section" id="struttura-bosco">
<h3>Struttura bosco<a class="headerlink" href="#struttura-bosco" title="Permalink to this headline">¶</a></h3>
<p>Il modulo permette di stimare la tipologia di struttura del bosco (monoplana, biplana o multiplana) a partire da file .las del Canopy Height Model (ottenuto in uscita dal modulo “Estrazione CHM”). L’algoritmo si basa su un metodo di clustering e su una serie di soglie sulla distribuzione di altezza dei punti LIDAR in celle di dimensione prefissata. L’algoritmo fornisce in uscita un file .las modificato in cui l’informazione sulla strutturta è contenuta nel campo “sourceID”.</p>
<div class="section" id="input">
<h4>Input<a class="headerlink" href="#input" title="Permalink to this headline">¶</a></h4>
<p><strong>File LAS di input</strong>: selezionare il file .las di input realtivo al CHM.</p>
</div>
<div class="section" id="output">
<h4>Output<a class="headerlink" href="#output" title="Permalink to this headline">¶</a></h4>
<p><strong>Risultato</strong>: inserire il percorso e il nome del file .las di output.</p>
</div>
</div>
</div>
</div>
<span id="document-troubleshooting"></span><div class="section" id="risoluzione-dei-problemi-noti">
<h2>Risoluzione dei problemi noti<a class="headerlink" href="#risoluzione-dei-problemi-noti" title="Permalink to this headline">¶</a></h2>
<div class="section" id="le-finestre-dei-moduli-non-si-aprono">
<h3>Le finestre dei moduli non si aprono<a class="headerlink" href="#le-finestre-dei-moduli-non-si-aprono" title="Permalink to this headline">¶</a></h3>
<p>Se la finestre del plugin non si aprono e non viene stampato a video
alcun errore, procedere con l’apertura della console Python su QGIS per
indagare più a fondo sul problema.</p>
</div>
<div class="section" id="percorsi-a-grass-gis-non-corretti">
<h3>Percorsi a GRASS GIS non corretti<a class="headerlink" href="#percorsi-a-grass-gis-non-corretti" title="Permalink to this headline">¶</a></h3>
<p>Se ottenete un errore simile a quello che segue molto probabilmente
non avrete settato correttamente i percorsi alle variabili di GRASS GIS
nelle impostazioni, in particolare:</p>
<ul class="simple">
<li><p>Percorso all’eseguibile di GRASS GIS 7.8</p></li>
<li><p>Percorso alla GRASSDATA directory</p></li>
<li><p>Nome della LOCATION da utilizzare</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
    <span class="n">File</span> <span class="s2">&quot;/home/lucadelu/.qgis2/python/plugins/STEM/tools/error_reduction.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">89</span><span class="p">,</span> <span class="ow">in</span> <span class="n">onRunLocal</span>
    <span class="n">tempin</span><span class="p">,</span> <span class="n">tempout</span><span class="p">,</span> <span class="n">gs</span> <span class="o">=</span> <span class="n">STEMUtils</span><span class="o">.</span><span class="n">temporaryFilesGRASS</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">LocalCheck</span><span class="o">.</span><span class="n">isChecked</span><span class="p">)</span>
    <span class="n">File</span> <span class="s2">&quot;/home/lucadelu/.qgis2/python/plugins/STEM/stem_utils.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">407</span><span class="p">,</span> <span class="ow">in</span> <span class="n">temporaryFilesGRASS</span>
    <span class="n">gs</span><span class="o">.</span><span class="n">initialize</span><span class="p">(</span><span class="n">pid</span><span class="p">,</span> <span class="n">grassdatabase</span><span class="p">,</span> <span class="n">location</span><span class="p">,</span> <span class="n">grassbin</span><span class="p">,</span> <span class="n">epsg</span><span class="p">)</span>
    <span class="n">File</span> <span class="s2">&quot;/home/lucadelu/.qgis2/python/plugins/STEM/libs/grass_stem.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">84</span><span class="p">,</span> <span class="ow">in</span> <span class="n">initialize</span>
    <span class="n">stdout</span><span class="o">=</span><span class="n">PIPE</span><span class="p">,</span> <span class="n">stderr</span><span class="o">=</span><span class="n">PIPE</span><span class="p">)</span>
    <span class="n">File</span> <span class="s2">&quot;/usr/lib/python2.7/subprocess.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">710</span><span class="p">,</span> <span class="ow">in</span> <span class="fm">__init__</span>
    <span class="n">errread</span><span class="p">,</span> <span class="n">errwrite</span><span class="p">)</span>
    <span class="n">File</span> <span class="s2">&quot;/usr/lib/python2.7/subprocess.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1335</span><span class="p">,</span> <span class="ow">in</span> <span class="n">_execute_child</span>
    <span class="k">raise</span> <span class="n">child_exception</span>
<span class="ne">OSError</span><span class="p">:</span> <span class="p">[</span><span class="n">Errno</span> <span class="mi">2</span><span class="p">]</span> <span class="n">No</span> <span class="n">such</span> <span class="n">file</span> <span class="ow">or</span> <span class="n">directory</span>
</pre></div>
</div>
<p>Questo può capitare quando si passa da lanciare i comandi in locale a
lanciarli sul server e viceversa.</p>
</div>
<div class="section" id="classificazione">
<h3>Classificazione<a class="headerlink" href="#classificazione" title="Permalink to this headline">¶</a></h3>
<p>Se con i moduli di classificazione ottenete degli errori provate a rimuovere
il contenuto della cartella <cite>$HOME/.qgis2/stem/</cite>. Questa contiene i risultati
delle analisi di classificazione precedenti, che servono per velocizzare
analisi identiche, e potrebbero essere la causa di qualche malfunzionamento.</p>
</div>
<div class="section" id="caricamento-output">
<h3>Caricamento output<a class="headerlink" href="#caricamento-output" title="Permalink to this headline">¶</a></h3>
<p>Alcune volte, in modo casuale, succede che i layer di output, anche se creati
correttamente non vengano caricati su QGIS. Questa situazione capita più
frequentemente quando il processo è lanciato su un server. Se non si ottengono
errori controllate la cartella selezionata per l’output e controllare se
il file è presente.</p>
</div>
</div>
</div>
</div>


      </div>
      <div class="bottomnav">
	<a class="uplink" href="#">Home page</a>
      </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2020, Thomas Maffei, Michele Dalponte, Stefano Piffer.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.3.1.
    </div>
  </body>
</html>